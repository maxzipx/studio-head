import type { EventTemplate } from './types';

export function getEventDeck(): EventTemplate[] {
  return [
    {
      id: 'rewrite-window',
      category: 'creative',
      scope: 'project',
      targetPhases: ['development', 'preProduction'],
      title: 'Rewrite Window',
      decisionTitle: 'Rewrite Pass Opportunity',
      body: 'A top script doctor opens a one-week slot.',
      cooldownWeeks: 3,
      baseWeight: 1.4,
      minWeek: 1,
      buildDecision: ({ idFactory, projectId, projectTitle }) => ({
        id: idFactory('decision'),
        projectId,
        category: 'creative',
        title: 'Rewrite Pass Opportunity',
        body: `${projectTitle ?? 'A project'} can book a premium rewrite pass this week only.`,
        weeksUntilExpiry: 1,
        options: [
          {
            id: idFactory('opt'),
            label: 'Approve Rewrite',
            preview: 'Script quality improves and development confidence rises.',
            cashDelta: -140_000,
            scriptQualityDelta: 0.6,
            hypeDelta: 1,
            setFlag: 'rewrite_invested',
          },
          {
            id: idFactory('opt'),
            label: 'Decline',
            preview: 'Save cash and move on with current pages.',
            cashDelta: 0,
            scriptQualityDelta: 0,
            hypeDelta: -1,
          },
        ],
      }),
    },
    {
      id: 'financier-notes',
      category: 'finance',
      scope: 'project',
      targetPhases: ['development', 'preProduction'],
      blocksArc: { id: 'financier-control', status: 'resolved' },
      title: 'Financier Notes Pass',
      decisionTitle: 'Financier Notes Request',
      body: 'A co-financier offers cash now in exchange for script notes and control.',
      cooldownWeeks: 4,
      baseWeight: 1,
      minWeek: 2,
      buildDecision: ({ idFactory, projectId, projectTitle }) => ({
        id: idFactory('decision'),
        projectId,
        category: 'finance',
        arcId: 'financier-control',
        arcStage: 0,
        title: 'Financier Notes Request',
        body: `${projectTitle ?? 'The project'} can secure early money if you accept commercial notes.`,
        weeksUntilExpiry: 2,
        options: [
          {
            id: idFactory('opt'),
            label: 'Take The Cash',
            preview: 'Immediate runway boost, but creative compromise.',
            cashDelta: 220_000,
            scriptQualityDelta: -0.4,
            hypeDelta: -1,
            studioHeatDelta: -1,
            setFlag: 'financier_control',
            setArcStage: 1,
          },
          {
            id: idFactory('opt'),
            label: 'Hold Creative Line',
            preview: 'No cash injection, but your brand strength improves.',
            cashDelta: 0,
            scriptQualityDelta: 0.1,
            hypeDelta: 1,
            studioHeatDelta: 1,
            clearFlag: 'financier_control',
            failArc: true,
          },
        ],
      }),
    },
    {
      id: 'table-read-breakthrough',
      category: 'creative',
      scope: 'project',
      targetPhases: ['development', 'preProduction'],
      title: 'Table Read Breakthrough',
      decisionTitle: 'Table Read Discovery',
      body: 'A table read reveals a stronger emotional direction.',
      cooldownWeeks: 5,
      baseWeight: 1.1,
      minWeek: 2,
      buildDecision: ({ idFactory, projectId, projectTitle }) => ({
        id: idFactory('decision'),
        projectId,
        category: 'creative',
        title: 'Table Read Discovery',
        body: `${projectTitle ?? 'The script'} has a chance to improve with one focused polish sprint.`,
        weeksUntilExpiry: 1,
        options: [
          {
            id: idFactory('opt'),
            label: 'Fund A Polish Sprint',
            preview: 'Sharper pages and stronger cast confidence.',
            cashDelta: -180_000,
            scriptQualityDelta: 0.4,
            hypeDelta: 2,
            studioHeatDelta: 1,
          },
          {
            id: idFactory('opt'),
            label: 'Lock Current Draft',
            preview: 'No new spend, but less momentum at this stage.',
            cashDelta: 0,
            scriptQualityDelta: 0,
            hypeDelta: -1,
          },
        ],
      }),
    },
    {
      id: 'financier-mandate-rewrite',
      category: 'finance',
      scope: 'project',
      targetPhases: ['preProduction', 'production'],
      requiresArc: { id: 'financier-control', minStage: 1, status: 'active' },
      title: 'Financier Mandate Rewrite',
      decisionTitle: 'Mandatory Financier Changes',
      body: 'The financing partner now demands scene and casting adjustments mid-process.',
      cooldownWeeks: 6,
      baseWeight: 1.1,
      minWeek: 4,
      buildDecision: ({ idFactory, projectId, projectTitle }) => ({
        id: idFactory('decision'),
        projectId,
        category: 'finance',
        arcId: 'financier-control',
        arcStage: 1,
        title: 'Mandatory Financier Changes',
        body: `${projectTitle ?? 'The project'} must decide whether to accept deeper mandate clauses.`,
        weeksUntilExpiry: 1,
        options: [
          {
            id: idFactory('opt'),
            label: 'Accept Mandate',
            preview: 'Secure added cash but sacrifice quality and autonomy.',
            cashDelta: 380_000,
            scriptQualityDelta: -0.5,
            hypeDelta: -2,
            studioHeatDelta: -2,
            setArcStage: 2,
            setFlag: 'financier_control',
          },
          {
            id: idFactory('opt'),
            label: 'Buy Out Clause',
            preview: 'Pay to regain control and restore creative momentum.',
            cashDelta: -420_000,
            scriptQualityDelta: 0.3,
            hypeDelta: 2,
            studioHeatDelta: 2,
            clearFlag: 'financier_control',
            resolveArc: true,
          },
        ],
      }),
    },
    {
      id: 'financier-test-screening-fallout',
      category: 'creative',
      scope: 'project',
      targetPhases: ['postProduction', 'distribution'],
      requiresArc: { id: 'financier-control', minStage: 2, status: 'active' },
      title: 'Financier Cut Fallout',
      decisionTitle: 'Test Screening Damage Control',
      body: 'Audience scores crater after the mandated cut strategy leaks to press.',
      cooldownWeeks: 7,
      baseWeight: 1,
      minWeek: 6,
      buildDecision: ({ idFactory, projectId, projectTitle }) => ({
        id: idFactory('decision'),
        projectId,
        category: 'creative',
        arcId: 'financier-control',
        arcStage: 2,
        title: 'Test Screening Damage Control',
        body: `${projectTitle ?? 'The title'} can attempt a late recovery edit before release.`,
        weeksUntilExpiry: 1,
        options: [
          {
            id: idFactory('opt'),
            label: 'Re-cut For Cohesion',
            preview: 'Expensive rescue pass with upside on quality and heat.',
            cashDelta: -360_000,
            scriptQualityDelta: 0.5,
            hypeDelta: 2,
            studioHeatDelta: 2,
            clearFlag: 'financier_control',
            resolveArc: true,
          },
          {
            id: idFactory('opt'),
            label: 'Ship As Is',
            preview: 'Protect cash now but absorb long-tail brand damage.',
            cashDelta: 0,
            scriptQualityDelta: -0.2,
            hypeDelta: -3,
            studioHeatDelta: -3,
            failArc: true,
          },
        ],
      }),
    },
    {
      id: 'tax-credit-window',
      category: 'finance',
      scope: 'project',
      targetPhases: ['preProduction', 'production'],
      title: 'Tax Credit Window',
      decisionTitle: 'Regional Tax Credit Offer',
      body: 'A region opens a short-lived incentive program with strict timing.',
      cooldownWeeks: 4,
      baseWeight: 1.15,
      minWeek: 3,
      buildDecision: ({ idFactory, projectId, projectTitle }) => ({
        id: idFactory('decision'),
        projectId,
        category: 'finance',
        title: 'Regional Tax Credit Offer',
        body: `${projectTitle ?? 'The production'} can qualify if logistics move now.`,
        weeksUntilExpiry: 1,
        options: [
          {
            id: idFactory('opt'),
            label: 'Relocate Unit',
            preview: 'Front-load spend to reduce long-tail schedule and risk.',
            cashDelta: -260_000,
            scriptQualityDelta: 0,
            hypeDelta: -1,
            scheduleDelta: -1,
            overrunRiskDelta: -0.08,
          },
          {
            id: idFactory('opt'),
            label: 'Stay Put',
            preview: 'Keep production stable and avoid relocation churn.',
            cashDelta: 0,
            scriptQualityDelta: 0,
            hypeDelta: 0,
          },
        ],
      }),
    },
    {
      id: 'crew-morale-check',
      category: 'operations',
      scope: 'project',
      targetPhases: ['production'],
      title: 'Crew Morale Warning',
      decisionTitle: 'Crew Morale Intervention',
      body: 'Line producers report burnout risk across key departments.',
      cooldownWeeks: 3,
      baseWeight: 1.2,
      minWeek: 2,
      buildDecision: ({ idFactory, projectId, projectTitle }) => ({
        id: idFactory('decision'),
        projectId,
        category: 'operations',
        title: 'Crew Morale Intervention',
        body: `${projectTitle ?? 'This production'} is showing fatigue indicators.`,
        weeksUntilExpiry: 1,
        options: [
          {
            id: idFactory('opt'),
            label: 'Add Relief Crew',
            preview: 'Costly now, but stabilizes execution and press sentiment.',
            cashDelta: -160_000,
            scriptQualityDelta: 0,
            hypeDelta: 3,
            studioHeatDelta: 1,
            overrunRiskDelta: -0.05,
          },
          {
            id: idFactory('opt'),
            label: 'Push Through',
            preview: 'Stay on spend, but pressure and overrun risk increase.',
            cashDelta: 0,
            scriptQualityDelta: 0,
            hypeDelta: -2,
            scheduleDelta: -1,
            overrunRiskDelta: 0.06,
          },
        ],
      }),
    },
    {
      id: 'stunt-coordinator-overscoped',
      category: 'operations',
      scope: 'project',
      targetPhases: ['preProduction'],
      title: 'Stunt Coordinator Overscoped',
      decisionTitle: 'Stunt Scope Reset',
      body: 'The stunt package is oversized for your prep timeline and current cash posture.',
      cooldownWeeks: 5,
      baseWeight: 1.05,
      minWeek: 3,
      buildDecision: ({ idFactory, projectId, projectTitle }) => ({
        id: idFactory('decision'),
        projectId,
        category: 'operations',
        title: 'Stunt Scope Reset',
        body: `${projectTitle ?? 'The project'} can lock a leaner action plan or pay to keep the full package.`,
        weeksUntilExpiry: 1,
        options: [
          {
            id: idFactory('opt'),
            label: 'Keep Full Stunt Package',
            preview: 'Bigger spectacle upside, heavier prep pressure.',
            cashDelta: -280_000,
            scriptQualityDelta: 0,
            hypeDelta: 3,
            overrunRiskDelta: 0.05,
          },
          {
            id: idFactory('opt'),
            label: 'Trim Scope To Core Setpieces',
            preview: 'Lower execution risk with modest hype loss.',
            cashDelta: -140_000,
            scriptQualityDelta: 0,
            hypeDelta: -1,
            overrunRiskDelta: -0.06,
          },
          {
            id: idFactory('opt'),
            label: 'Reboard Internally',
            preview: 'No immediate spend, but prep takes a week and momentum softens.',
            cashDelta: 0,
            scriptQualityDelta: 0,
            hypeDelta: -2,
            scheduleDelta: 1,
            overrunRiskDelta: -0.02,
          },
        ],
      }),
    },
    {
      id: 'location-dispute',
      category: 'operations',
      scope: 'project',
      targetPhases: ['preProduction'],
      title: 'Location Dispute',
      decisionTitle: 'Location Access Dispute',
      body: 'A local dispute blocks your planned locations just before lock.',
      cooldownWeeks: 5,
      baseWeight: 1.08,
      minWeek: 3,
      buildDecision: ({ idFactory, projectId, projectTitle }) => ({
        id: idFactory('decision'),
        projectId,
        category: 'operations',
        title: 'Location Access Dispute',
        body: `${projectTitle ?? 'The production'} needs a location strategy decision this week.`,
        weeksUntilExpiry: 1,
        options: [
          {
            id: idFactory('opt'),
            label: 'Pay Local Settlement',
            preview: 'Keep your schedule and avoid public friction.',
            cashDelta: -190_000,
            scriptQualityDelta: 0,
            hypeDelta: 1,
          },
          {
            id: idFactory('opt'),
            label: 'Relocate The Unit',
            preview: 'Cheaper in cash, but prep slips and logistics risk rises.',
            cashDelta: -90_000,
            scriptQualityDelta: 0,
            hypeDelta: -1,
            scheduleDelta: 1,
            overrunRiskDelta: 0.03,
          },
          {
            id: idFactory('opt'),
            label: 'Wait Out The Dispute',
            preview: 'No cash now, but momentum and timing take a hit.',
            cashDelta: 0,
            scriptQualityDelta: 0,
            hypeDelta: -2,
            scheduleDelta: 2,
          },
        ],
      }),
    },
    {
      id: 'practical-stunt-package',
      category: 'operations',
      scope: 'project',
      targetPhases: ['production'],
      title: 'Practical Stunt Package',
      decisionTitle: 'Practical Stunt Upgrade',
      body: 'A top stunt team can execute a real sequence the VFX route cannot match.',
      cooldownWeeks: 5,
      baseWeight: 1.05,
      minWeek: 4,
      buildDecision: ({ idFactory, projectId, projectTitle }) => ({
        id: idFactory('decision'),
        projectId,
        category: 'operations',
        title: 'Practical Stunt Upgrade',
        body: `${projectTitle ?? 'The production'} can pivot toward a practical centerpiece shot.`,
        weeksUntilExpiry: 1,
        options: [
          {
            id: idFactory('opt'),
            label: 'Greenlight Practical Unit',
            preview: 'Bigger buzz and authenticity, but heavier execution risk.',
            cashDelta: -320_000,
            scriptQualityDelta: 0,
            hypeDelta: 5,
            overrunRiskDelta: 0.04,
          },
          {
            id: idFactory('opt'),
            label: 'Stay VFX-Heavy',
            preview: 'Safer operating profile with a smaller hype upside.',
            cashDelta: -80_000,
            scriptQualityDelta: 0,
            hypeDelta: 1,
            overrunRiskDelta: -0.02,
          },
          {
            id: idFactory('opt'),
            label: 'Decline the Package',
            preview: 'No spend. The opportunity passes; production continues as-is.',
            cashDelta: 0,
            scriptQualityDelta: 0,
            hypeDelta: -1,
            overrunRiskDelta: 0,
          },
        ],
      }),
    },
    {
      id: 'post-pipeline-upgrade',
      category: 'operations',
      scope: 'project',
      targetPhases: ['postProduction'],
      title: 'Post Pipeline Upgrade',
      decisionTitle: 'Post Pipeline Decision',
      body: 'Editorial can move to a faster pipeline this week with vendor support.',
      cooldownWeeks: 4,
      baseWeight: 1.05,
      minWeek: 4,
      buildDecision: ({ idFactory, projectId, projectTitle }) => ({
        id: idFactory('decision'),
        projectId,
        category: 'operations',
        title: 'Post Pipeline Decision',
        body: `${projectTitle ?? 'Post'} can lock picture faster with outside support.`,
        weeksUntilExpiry: 1,
        options: [
          {
            id: idFactory('opt'),
            label: 'Buy Vendor Upgrade',
            preview: 'Reduce delay risk and tighten release readiness.',
            cashDelta: -240_000,
            scriptQualityDelta: 0,
            hypeDelta: 1,
            scheduleDelta: -1,
            overrunRiskDelta: -0.05,
          },
          {
            id: idFactory('opt'),
            label: 'Keep Current Pipeline',
            preview: 'No spend now, but timeline remains fragile.',
            cashDelta: 0,
            scriptQualityDelta: 0,
            hypeDelta: -1,
          },
        ],
      }),
    },
    {
      id: 'leaked-rough-cut',
      category: 'marketing',
      scope: 'project',
      targetPhases: ['postProduction', 'distribution'],
      blocksFlag: 'security_hardened',
      blocksArc: { id: 'leak-piracy', status: 'resolved' },
      title: 'Rough Cut Leak',
      decisionTitle: 'Leak Response Plan',
      body: 'A low-quality clip spread online before marketing was ready.',
      cooldownWeeks: 6,
      baseWeight: 0.95,
      minWeek: 5,
      buildDecision: ({ idFactory, projectId, projectTitle }) => ({
        id: idFactory('decision'),
        projectId,
        category: 'marketing',
        arcId: 'leak-piracy',
        arcStage: 0,
        title: 'Leak Response Plan',
        body: `${projectTitle ?? 'A project'} leaked early. The response will shape audience narrative.`,
        weeksUntilExpiry: 1,
        options: [
          {
            id: idFactory('opt'),
            label: 'Forensic Takedown + Silence',
            preview: 'Contain damage at cost and stabilize reputation.',
            cashDelta: -210_000,
            scriptQualityDelta: 0,
            hypeDelta: -1,
            studioHeatDelta: 1,
            setFlag: 'security_hardened',
            clearFlag: 'security_breach',
            failArc: true,
          },
          {
            id: idFactory('opt'),
            label: 'Ignore And Move On',
            preview: 'No spend, but uncontrolled chatter can snowball.',
            cashDelta: 0,
            scriptQualityDelta: 0,
            hypeDelta: -4,
            studioHeatDelta: -2,
            setFlag: 'security_breach',
            setArcStage: 1,
          },
          {
            id: idFactory('opt'),
            label: 'Counter With Official Teaser',
            preview: 'Spend modestly to reset narrative with an approved cut.',
            cashDelta: -90_000,
            scriptQualityDelta: 0,
            hypeDelta: 2,
            setFlag: 'security_breach',
            setArcStage: 1,
          },
        ],
      }),
    },
    {
      id: 'anti-piracy-sweep',
      category: 'operations',
      scope: 'project',
      targetPhases: ['distribution', 'released'],
      requiresFlag: 'security_breach',
      requiresArc: { id: 'leak-piracy', minStage: 1, status: 'active' },
      title: 'Piracy Fallout',
      decisionTitle: 'Piracy Countermeasure',
      body: 'Leak chatter converted into early piracy copies in two territories.',
      cooldownWeeks: 6,
      baseWeight: 1.2,
      minWeek: 6,
      buildDecision: ({ idFactory, projectId, projectTitle }) => ({
        id: idFactory('decision'),
        projectId,
        category: 'operations',
        arcId: 'leak-piracy',
        arcStage: 1,
        title: 'Piracy Countermeasure',
        body: `${projectTitle ?? 'The title'} needs a response before momentum erodes further.`,
        weeksUntilExpiry: 1,
        options: [
          {
            id: idFactory('opt'),
            label: 'Launch Legal Blitz',
            preview: 'Contain losses with direct legal pressure.',
            cashDelta: -160_000,
            scriptQualityDelta: 0,
            hypeDelta: 1,
            studioHeatDelta: 2,
            clearFlag: 'security_breach',
            setFlag: 'security_hardened',
            setArcStage: 2,
          },
          {
            id: idFactory('opt'),
            label: 'Own The Narrative',
            preview: 'Spend on communication and fan conversion.',
            cashDelta: -60_000,
            scriptQualityDelta: 0,
            hypeDelta: 2,
            studioHeatDelta: 1,
            clearFlag: 'security_breach',
            setArcStage: 2,
          },
          {
            id: idFactory('opt'),
            label: 'Ride It Out',
            preview: 'Protect cash but absorb measurable momentum loss.',
            cashDelta: 0,
            scriptQualityDelta: 0,
            hypeDelta: -3,
            studioHeatDelta: -1,
            advanceArcBy: 1,
          },
        ],
      }),
    },
    {
      id: 'exhibitor-trust-audit',
      category: 'operations',
      scope: 'project',
      targetPhases: ['distribution', 'released'],
      requiresArc: { id: 'leak-piracy', minStage: 2, status: 'active' },
      title: 'Exhibitor Trust Audit',
      decisionTitle: 'Exhibitor Confidence Review',
      body: 'Major exhibitors request anti-piracy assurances before premium placement.',
      cooldownWeeks: 7,
      baseWeight: 1.05,
      minWeek: 8,
      buildDecision: ({ idFactory, projectId, projectTitle }) => ({
        id: idFactory('decision'),
        projectId,
        category: 'operations',
        arcId: 'leak-piracy',
        arcStage: 2,
        title: 'Exhibitor Confidence Review',
        body: `${projectTitle ?? 'The release'} can regain trust now or accept reduced screen quality.`,
        weeksUntilExpiry: 1,
        options: [
          {
            id: idFactory('opt'),
            label: 'Fund Security Audit',
            preview: 'Costly compliance, but stabilizes relationship and closes the arc.',
            cashDelta: -190_000,
            scriptQualityDelta: 0,
            hypeDelta: 1,
            studioHeatDelta: 2,
            setFlag: 'security_hardened',
            clearFlag: 'security_breach',
            resolveArc: true,
          },
          {
            id: idFactory('opt'),
            label: 'Accept Reduced Placement',
            preview: 'Save cash immediately but lock in weaker release momentum.',
            cashDelta: 0,
            scriptQualityDelta: 0,
            hypeDelta: -2,
            studioHeatDelta: -2,
            failArc: true,
          },
        ],
      }),
    },
    {
      id: 'festival-slot',
      category: 'marketing',
      scope: 'project',
      targetPhases: ['postProduction', 'distribution'],
      blocksArc: { id: 'awards-circuit', status: 'resolved' },
      title: 'Festival Programming Slot',
      decisionTitle: 'Festival Slot Offer',
      body: 'A mid-tier festival programmer offers an early slot.',
      cooldownWeeks: 4,
      baseWeight: 1.1,
      minWeek: 3,
      buildDecision: ({ idFactory, projectId, projectTitle }) => ({
        id: idFactory('decision'),
        projectId,
        category: 'marketing',
        arcId: 'awards-circuit',
        arcStage: 0,
        title: 'Festival Slot Offer',
        body: `${projectTitle ?? 'The title'} can take a festival slot and signal prestige early.`,
        weeksUntilExpiry: 1,
        options: [
          {
            id: idFactory('opt'),
            label: 'Submit Festival Cut',
            preview: 'Potential critic momentum with moderate spend.',
            cashDelta: -200_000,
            scriptQualityDelta: 0,
            hypeDelta: 4,
            studioHeatDelta: 2,
            setFlag: 'festival_selected',
            setArcStage: 1,
          },
          {
            id: idFactory('opt'),
            label: 'Skip Festival Route',
            preview: 'Keep launch control and cash for later windows.',
            cashDelta: 0,
            scriptQualityDelta: 0,
            hypeDelta: -1,
            failArc: true,
          },
        ],
      }),
    },
    {
      id: 'awards-whisper-campaign',
      category: 'marketing',
      scope: 'project',
      targetPhases: ['distribution', 'released'],
      requiresFlag: 'festival_selected',
      requiresArc: { id: 'awards-circuit', minStage: 1, status: 'active' },
      title: 'Awards Whisper Campaign',
      decisionTitle: 'Awards Campaign Decision',
      body: 'Publicists believe the title has enough momentum for a real awards push.',
      cooldownWeeks: 8,
      baseWeight: 0.9,
      minWeek: 6,
      buildDecision: ({ idFactory, projectId, projectTitle }) => ({
        id: idFactory('decision'),
        projectId,
        category: 'marketing',
        arcId: 'awards-circuit',
        arcStage: 1,
        title: 'Awards Campaign Decision',
        body: `${projectTitle ?? 'The release'} can escalate to a full awards campaign.`,
        weeksUntilExpiry: 1,
        options: [
          {
            id: idFactory('opt'),
            label: 'Fund Campaign',
            preview: 'Higher profile and long-tail brand upside.',
            cashDelta: -280_000,
            scriptQualityDelta: 0,
            hypeDelta: 2,
            studioHeatDelta: 4,
            setFlag: 'awards_campaign',
            setArcStage: 2,
          },
          {
            id: idFactory('opt'),
            label: 'Stay Disciplined',
            preview: 'Save cash and avoid prestige spend creep.',
            cashDelta: 0,
            scriptQualityDelta: 0,
            hypeDelta: 0,
            studioHeatDelta: -1,
            failArc: true,
          },
        ],
      }),
    },
    {
      id: 'guild-screening-crunch',
      category: 'marketing',
      scope: 'project',
      targetPhases: ['released'],
      requiresArc: { id: 'awards-circuit', minStage: 2, status: 'active' },
      title: 'Guild Screening Crunch',
      decisionTitle: 'Guild Screening Emergency',
      body: 'Guild screenings underperformed and campaign momentum is fading.',
      cooldownWeeks: 8,
      baseWeight: 0.95,
      minWeek: 9,
      buildDecision: ({ idFactory, projectId, projectTitle }) => ({
        id: idFactory('decision'),
        projectId,
        category: 'marketing',
        arcId: 'awards-circuit',
        arcStage: 2,
        title: 'Guild Screening Emergency',
        body: `${projectTitle ?? 'The awards title'} can mount a final rescue push this week.`,
        weeksUntilExpiry: 1,
        options: [
          {
            id: idFactory('opt'),
            label: 'Host Targeted Q&A Run',
            preview: 'Spend to regain credibility and potentially close the loop positively.',
            cashDelta: -260_000,
            scriptQualityDelta: 0,
            hypeDelta: 2,
            studioHeatDelta: 3,
            resolveArc: true,
          },
          {
            id: idFactory('opt'),
            label: 'Wind Down Campaign',
            preview: 'Cut losses and accept a muted awards finish.',
            cashDelta: 0,
            scriptQualityDelta: 0,
            hypeDelta: -1,
            studioHeatDelta: -2,
            failArc: true,
          },
        ],
      }),
    },
    {
      id: 'premium-trailer-placement',
      category: 'marketing',
      scope: 'project',
      targetPhases: ['postProduction', 'distribution'],
      title: 'Trailer Slot',
      decisionTitle: 'Premium Trailer Placement',
      body: 'A distributor opens premium trailer placement for a short window.',
      cooldownWeeks: 4,
      baseWeight: 1.1,
      minWeek: 3,
      buildDecision: ({ idFactory, projectId, projectTitle }) => ({
        id: idFactory('decision'),
        projectId,
        category: 'marketing',
        title: 'Premium Trailer Placement',
        body: `${projectTitle ?? 'The title'} can buy premium placement now or hold spend for later.`,
        weeksUntilExpiry: 1,
        options: [
          {
            id: idFactory('opt'),
            label: 'Buy Placement',
            preview: 'Higher awareness and stronger opening readiness.',
            cashDelta: -330_000,
            scriptQualityDelta: 0,
            hypeDelta: 6,
            marketingDelta: 250_000,
          },
          {
            id: idFactory('opt'),
            label: 'Pass',
            preview: 'Keep powder dry for a later marketing burst.',
            cashDelta: 0,
            scriptQualityDelta: 0,
            hypeDelta: 0,
          },
        ],
      }),
    },
    {
      id: 'brand-integration-deal',
      category: 'finance',
      scope: 'project',
      targetPhases: ['production', 'distribution'],
      title: 'Brand Integration Offer',
      decisionTitle: 'Brand Integration Deal',
      body: 'A consumer brand offers placement money with approval rights.',
      cooldownWeeks: 5,
      baseWeight: 1,
      minWeek: 4,
      buildDecision: ({ idFactory, projectId, projectTitle }) => ({
        id: idFactory('decision'),
        projectId,
        category: 'finance',
        title: 'Brand Integration Deal',
        body: `${projectTitle ?? 'The project'} can lock an integration package this week.`,
        weeksUntilExpiry: 1,
        options: [
          {
            id: idFactory('opt'),
            label: 'Take The Deal',
            preview: 'Improves cash, but creative perception softens slightly.',
            cashDelta: 450_000,
            scriptQualityDelta: 0,
            hypeDelta: 1,
            studioHeatDelta: -1,
            setFlag: 'brand_partner',
          },
          {
            id: idFactory('opt'),
            label: 'Decline',
            preview: 'No new money, but preserves brand identity.',
            cashDelta: 0,
            scriptQualityDelta: 0,
            hypeDelta: 0,
            studioHeatDelta: 1,
          },
        ],
      }),
    },
    {
      id: 'bridge-financing',
      category: 'finance',
      scope: 'studio',
      title: 'Bridge Financing Offer',
      decisionTitle: 'Bridge Financing Term Sheet',
      body: 'A lender offers a short facility to smooth production cashflow.',
      cooldownWeeks: 7,
      baseWeight: 0.9,
      minWeek: 2,
      buildDecision: ({ idFactory }) => ({
        id: idFactory('decision'),
        projectId: null,
        category: 'finance',
        title: 'Bridge Financing Term Sheet',
        body: 'The facility gives breathing room now but can hurt your heat if overused.',
        weeksUntilExpiry: 2,
        options: [
          {
            id: idFactory('opt'),
            label: 'Draw Facility',
            preview: 'Immediate cash cushion at reputation cost.',
            cashDelta: 1_200_000,
            scriptQualityDelta: 0,
            hypeDelta: 0,
            studioHeatDelta: -2,
            setFlag: 'bridge_debt',
          },
          {
            id: idFactory('opt'),
            label: 'Stay Lean',
            preview: 'No debt draw and stronger market discipline signal.',
            cashDelta: 0,
            scriptQualityDelta: 0,
            hypeDelta: 1,
            studioHeatDelta: 1,
            clearFlag: 'bridge_debt',
          },
        ],
      }),
    },
    {
      id: 'agency-package-push',
      category: 'talent',
      scope: 'project',
      targetPhases: ['development', 'preProduction'],
      title: 'Agency Package Push',
      decisionTitle: 'Agency Packaging Proposal',
      body: 'A major agency offers a packaged talent bundle with a short deadline.',
      cooldownWeeks: 5,
      baseWeight: 0.95,
      minWeek: 4,
      buildDecision: ({ idFactory, projectId, projectTitle }) => ({
        id: idFactory('decision'),
        projectId,
        category: 'talent',
        title: 'Agency Packaging Proposal',
        body: `${projectTitle ?? 'The project'} can move faster if you accept packaged attachments.`,
        weeksUntilExpiry: 1,
        options: [
          {
            id: idFactory('opt'),
            label: 'Accept Package Terms',
            preview: 'Faster schedule and buzz, with a meaningful upfront cost.',
            cashDelta: -260_000,
            scriptQualityDelta: 0,
            hypeDelta: 3,
            scheduleDelta: -1,
            studioHeatDelta: 1,
          },
          {
            id: idFactory('opt'),
            label: 'Run Open Market',
            preview: 'Keep flexibility and preserve cash.',
            cashDelta: 0,
            scriptQualityDelta: 0,
            hypeDelta: 0,
          },
        ],
      }),
    },
    {
      id: 'star-renegotiation-shock',
      category: 'talent',
      scope: 'project',
      targetPhases: ['production', 'postProduction'],
      blocksArc: { id: 'talent-meltdown', status: 'resolved' },
      title: 'Star Renegotiation Shock',
      decisionTitle: 'Star Renegotiation Ultimatum',
      body: 'Lead talent requests major contract revisions after early buzz tracking.',
      cooldownWeeks: 7,
      baseWeight: 0.95,
      minWeek: 4,
      buildDecision: ({ idFactory, projectId, projectTitle }) => ({
        id: idFactory('decision'),
        projectId,
        category: 'talent',
        arcId: 'talent-meltdown',
        arcStage: 0,
        title: 'Star Renegotiation Ultimatum',
        body: `${projectTitle ?? 'The production'} has 48 hours to answer talent demands.`,
        weeksUntilExpiry: 1,
        options: [
          {
            id: idFactory('opt'),
            label: 'Pay Upfront Premium',
            preview: 'Stabilize set now but set a costly precedent.',
            cashDelta: -340_000,
            scriptQualityDelta: 0,
            hypeDelta: 2,
            setArcStage: 1,
            setFlag: 'star_fragile',
          },
          {
            id: idFactory('opt'),
            label: 'Hold Firm On Terms',
            preview: 'Save money now with elevated blowback risk.',
            cashDelta: 0,
            scriptQualityDelta: 0,
            hypeDelta: -2,
            studioHeatDelta: -1,
            setArcStage: 1,
            setFlag: 'star_fragile',
          },
        ],
      }),
    },
    {
      id: 'tabloid-on-set-leak',
      category: 'talent',
      scope: 'project',
      targetPhases: ['production', 'postProduction', 'distribution'],
      requiresArc: { id: 'talent-meltdown', minStage: 1, status: 'active' },
      title: 'Tabloid Set Leak',
      decisionTitle: 'Star PR Crisis',
      body: 'A tabloid leak alleges toxic on-set behavior around your lead talent.',
      cooldownWeeks: 8,
      baseWeight: 1.05,
      minWeek: 6,
      buildDecision: ({ idFactory, projectId, projectTitle }) => ({
        id: idFactory('decision'),
        projectId,
        category: 'talent',
        arcId: 'talent-meltdown',
        arcStage: 1,
        title: 'Star PR Crisis',
        body: `${projectTitle ?? 'The title'} now faces a narrative war before release.`,
        weeksUntilExpiry: 1,
        options: [
          {
            id: idFactory('opt'),
            label: 'Back Talent Publicly',
            preview: 'Defend the star, protect hype, risk credibility hit if it worsens.',
            cashDelta: -110_000,
            scriptQualityDelta: 0,
            hypeDelta: 2,
            studioHeatDelta: -1,
            setArcStage: 2,
          },
          {
            id: idFactory('opt'),
            label: 'Neutral Compliance Statement',
            preview: 'Lower volatility path with moderate trust rebuild.',
            cashDelta: -80_000,
            scriptQualityDelta: 0,
            hypeDelta: 0,
            studioHeatDelta: 1,
            setArcStage: 2,
          },
          {
            id: idFactory('opt'),
            label: 'Quiet Settlement Package',
            preview: 'Expensive containment; likely closes the incident cycle.',
            cashDelta: -260_000,
            scriptQualityDelta: 0,
            hypeDelta: -1,
            studioHeatDelta: 2,
            clearFlag: 'star_fragile',
            resolveArc: true,
          },
          {
            id: idFactory('opt'),
            label: 'No Comment',
            preview: 'Stay silent. Story may escalate, but no cash spent.',
            cashDelta: 0,
            scriptQualityDelta: 0,
            hypeDelta: -3,
            studioHeatDelta: -2,
            setArcStage: 2,
          },
        ],
      }),
    },
    {
      id: 'talent-endgame-judgment',
      category: 'talent',
      scope: 'project',
      targetPhases: ['distribution', 'released'],
      requiresArc: { id: 'talent-meltdown', minStage: 2, status: 'active' },
      title: 'Talent Endgame Judgment',
      decisionTitle: 'Final Talent Fallout Decision',
      body: 'Distributors demand confidence in campaign leadership before final push.',
      cooldownWeeks: 9,
      baseWeight: 0.9,
      minWeek: 8,
      buildDecision: ({ idFactory, projectId, projectTitle }) => ({
        id: idFactory('decision'),
        projectId,
        category: 'talent',
        arcId: 'talent-meltdown',
        arcStage: 2,
        title: 'Final Talent Fallout Decision',
        body: `${projectTitle ?? 'The campaign'} must choose between loyalty, replacement optics, or retreat.`,
        weeksUntilExpiry: 1,
        options: [
          {
            id: idFactory('opt'),
            label: 'Stand By Star',
            preview: 'High-risk loyalty play with major upside if audience follows.',
            cashDelta: -140_000,
            scriptQualityDelta: 0,
            hypeDelta: 3,
            studioHeatDelta: -1,
            resolveArc: true,
          },
          {
            id: idFactory('opt'),
            label: 'Reframe Campaign Around Craft',
            preview: 'Costly pivot that de-emphasizes personality narrative.',
            cashDelta: -220_000,
            scriptQualityDelta: 0.2,
            hypeDelta: 1,
            studioHeatDelta: 2,
            clearFlag: 'star_fragile',
            resolveArc: true,
          },
          {
            id: idFactory('opt'),
            label: 'Slash Exposure And Coast',
            preview: 'Protect remaining budget at clear momentum cost.',
            cashDelta: 0,
            scriptQualityDelta: 0,
            hypeDelta: -3,
            studioHeatDelta: -3,
            failArc: true,
          },
        ],
      }),
    },
    {
      id: 'exclusivity-term-sheet',
      category: 'finance',
      scope: 'project',
      targetPhases: ['distribution'],
      blocksArc: { id: 'exhibitor-war', status: 'resolved' },
      title: 'Exhibitor Exclusivity Demand',
      decisionTitle: 'Exclusivity Term Sheet',
      body: 'Top exhibitors offer premium screens in exchange for stricter exclusivity terms.',
      cooldownWeeks: 7,
      baseWeight: 1.05,
      minWeek: 6,
      buildDecision: ({ idFactory, projectId, projectTitle }) => ({
        id: idFactory('decision'),
        projectId,
        category: 'finance',
        arcId: 'exhibitor-war',
        arcStage: 0,
        title: 'Exclusivity Term Sheet',
        body: `${projectTitle ?? 'The release'} can gain footprint now, but at strategic cost.`,
        weeksUntilExpiry: 1,
        options: [
          {
            id: idFactory('opt'),
            label: 'Accept Hard Exclusivity',
            preview: 'Better placement now; narrower flexibility later.',
            cashDelta: 280_000,
            scriptQualityDelta: 0,
            hypeDelta: 2,
            setArcStage: 1,
            setFlag: 'exhibitor_locked',
          },
          {
            id: idFactory('opt'),
            label: 'Negotiate Flexible Terms',
            preview: 'Smaller upside now with strategic flexibility preserved.',
            cashDelta: 120_000,
            scriptQualityDelta: 0,
            hypeDelta: 1,
            setArcStage: 1,
          },
          {
            id: idFactory('opt'),
            label: 'Decline And Stay Flexible',
            preview: 'No immediate cash, but avoids dependency.',
            cashDelta: 0,
            scriptQualityDelta: 0,
            hypeDelta: 0,
            failArc: true,
          },
        ],
      }),
    },
    {
      id: 'rival-screen-squeeze',
      category: 'operations',
      scope: 'project',
      targetPhases: ['distribution', 'released'],
      requiresArc: { id: 'exhibitor-war', minStage: 1, status: 'active' },
      title: 'Rival Screen Squeeze',
      decisionTitle: 'Screen Share Countermove',
      body: 'A rival studio books aggressive previews and threatens your prime slots.',
      cooldownWeeks: 8,
      baseWeight: 1.1,
      minWeek: 7,
      buildDecision: ({ idFactory, projectId, projectTitle }) => ({
        id: idFactory('decision'),
        projectId,
        category: 'operations',
        arcId: 'exhibitor-war',
        arcStage: 1,
        title: 'Screen Share Countermove',
        body: `${projectTitle ?? 'The release'} must react before allocations lock.`,
        weeksUntilExpiry: 1,
        options: [
          {
            id: idFactory('opt'),
            label: 'Pay Local Exhibitor Support',
            preview: 'Defend footprint with targeted spend.',
            cashDelta: -240_000,
            scriptQualityDelta: 0,
            hypeDelta: 2,
            studioHeatDelta: 1,
            setArcStage: 2,
          },
          {
            id: idFactory('opt'),
            label: 'Shift To Alternate Markets',
            preview: 'Reduce conflict but soften domestic launch optics.',
            cashDelta: -90_000,
            scriptQualityDelta: 0,
            hypeDelta: -1,
            studioHeatDelta: 0,
            setArcStage: 2,
          },
          {
            id: idFactory('opt'),
            label: 'Hold And Absorb',
            preview: 'No spend now; risk deeper slot erosion.',
            cashDelta: 0,
            scriptQualityDelta: 0,
            hypeDelta: -2,
            studioHeatDelta: -1,
            setArcStage: 2,
          },
        ],
      }),
    },
    {
      id: 'opening-weekend-lockout',
      category: 'finance',
      scope: 'project',
      targetPhases: ['released'],
      requiresArc: { id: 'exhibitor-war', minStage: 2, status: 'active' },
      title: 'Opening Weekend Lockout Threat',
      decisionTitle: 'Exhibitor Lockout Crisis',
      body: 'Two chains threaten reduced showtimes unless terms are amended before weekend.',
      cooldownWeeks: 10,
      baseWeight: 0.95,
      minWeek: 9,
      buildDecision: ({ idFactory, projectId, projectTitle }) => ({
        id: idFactory('decision'),
        projectId,
        category: 'finance',
        arcId: 'exhibitor-war',
        arcStage: 2,
        title: 'Exhibitor Lockout Crisis',
        body: `${projectTitle ?? 'The title'} is one negotiation away from a major footprint swing.`,
        weeksUntilExpiry: 1,
        options: [
          {
            id: idFactory('opt'),
            label: 'Concede Revenue Points',
            preview: 'Pay through split to secure broad weekend access.',
            cashDelta: -300_000,
            scriptQualityDelta: 0,
            hypeDelta: 2,
            studioHeatDelta: 1,
            clearFlag: 'exhibitor_locked',
            resolveArc: true,
          },
          {
            id: idFactory('opt'),
            label: 'Pivot To Premium + Events',
            preview: 'Smaller footprint, higher intensity rollout.',
            cashDelta: -160_000,
            scriptQualityDelta: 0,
            hypeDelta: 1,
            studioHeatDelta: 2,
            resolveArc: true,
          },
          {
            id: idFactory('opt'),
            label: 'Refuse Terms',
            preview: 'Protect principles and cash, accept opening damage.',
            cashDelta: 0,
            scriptQualityDelta: 0,
            hypeDelta: -4,
            studioHeatDelta: -3,
            failArc: true,
          },
        ],
      }),
    },
    {
      id: 'exhibitor-summit-invite',
      category: 'finance',
      scope: 'studio',
      blocksArc: { id: 'exhibitor-power-play', status: 'resolved' },
      title: 'Exhibitor Summit Invite',
      decisionTitle: 'Exhibitor Summit Invitation',
      body: 'Major chains invite your studio to lock preferred screen commitments for the next cycle.',
      cooldownWeeks: 9,
      baseWeight: 0.68,
      minWeek: 8,
      buildDecision: ({ idFactory }) => ({
        id: idFactory('decision'),
        projectId: null,
        category: 'finance',
        arcId: 'exhibitor-power-play',
        arcStage: 0,
        title: 'Exhibitor Summit Invitation',
        body: 'Sign premium terms, take a smaller regional deal, or stay fully independent for this cycle.',
        weeksUntilExpiry: 1,
        options: [
          {
            id: idFactory('opt'),
            label: 'Sign Premium Screen Commitment',
            preview: 'Higher placement confidence with tighter chain expectations.',
            cashDelta: 220_000,
            scriptQualityDelta: 0,
            hypeDelta: 1,
            distributorRepDelta: 3,
            audienceDelta: 1,
            setFlag: 'exhibitor_priority',
            setArcStage: 1,
          },
          {
            id: idFactory('opt'),
            label: 'Take Regional Partner Deal',
            preview: 'Lower-cost footprint gains with fewer commitments.',
            cashDelta: 100_000,
            scriptQualityDelta: 0,
            hypeDelta: 1,
            distributorRepDelta: 1,
            audienceDelta: 1,
            setArcStage: 1,
          },
          {
            id: idFactory('opt'),
            label: 'Stay Independent',
            preview: 'No spend now. Chains treat your slate as lower priority.',
            cashDelta: 0,
            scriptQualityDelta: 0,
            hypeDelta: 0,
            distributorRepDelta: -1,
            criticsDelta: 1,
            failArc: true,
          },
        ],
      }),
    },
    {
      id: 'release-window-showdown',
      category: 'marketing',
      scope: 'project',
      targetPhases: ['distribution'],
      requiresArc: { id: 'exhibitor-power-play', minStage: 1, status: 'active' },
      title: 'Release Window Showdown',
      decisionTitle: 'Release Window Showdown',
      body: 'Competing studios crowd your date and exhibitors want certainty before locking final allocations.',
      cooldownWeeks: 10,
      baseWeight: 0.74,
      minWeek: 10,
      buildDecision: ({ idFactory, projectId, projectTitle }) => ({
        id: idFactory('decision'),
        projectId,
        category: 'marketing',
        arcId: 'exhibitor-power-play',
        arcStage: 1,
        title: 'Release Window Showdown',
        body: `${projectTitle ?? 'The release'} needs a date strategy before chain allocations finalize.`,
        weeksUntilExpiry: 1,
        options: [
          {
            id: idFactory('opt'),
            label: 'Hold Prime Date',
            preview: 'Spend to protect footprint and opening-week narrative.',
            cashDelta: -120_000,
            scriptQualityDelta: 0,
            hypeDelta: 3,
            distributorRepDelta: 2,
            audienceDelta: 1,
            setArcStage: 2,
          },
          {
            id: idFactory('opt'),
            label: 'Move To Cleaner Corridor',
            preview: 'Lower conflict and steadier reviews with reduced launch heat.',
            cashDelta: -40_000,
            scriptQualityDelta: 0,
            hypeDelta: 1,
            criticsDelta: 1,
            audienceDelta: 1,
            setArcStage: 2,
          },
          {
            id: idFactory('opt'),
            label: 'Accept A Late Delay',
            preview: 'Cheapest immediate option, but momentum slips.',
            cashDelta: 0,
            scriptQualityDelta: 0,
            hypeDelta: -2,
            audienceDelta: -1,
            setArcStage: 2,
          },
        ],
      }),
    },
    {
      id: 'theatrical-identity-vote',
      category: 'finance',
      scope: 'studio',
      requiresArc: { id: 'exhibitor-power-play', minStage: 2, status: 'active' },
      title: 'Theatrical Identity Vote',
      decisionTitle: 'Theatrical Identity Vote',
      body: 'Your board wants a clear theatrical strategy before the next slate is greenlit.',
      cooldownWeeks: 12,
      baseWeight: 0.7,
      minWeek: 12,
      buildDecision: ({ idFactory }) => ({
        id: idFactory('decision'),
        projectId: null,
        category: 'finance',
        arcId: 'exhibitor-power-play',
        arcStage: 2,
        title: 'Theatrical Identity Vote',
        body: 'Choose wide-opening scale, prestige platforming discipline, or stay indecisive and absorb the credibility cost.',
        weeksUntilExpiry: 1,
        options: [
          {
            id: idFactory('opt'),
            label: 'Commit To Wide-Opening Dominance',
            preview: 'Big commercial posture with heavier spend and critic skepticism.',
            cashDelta: -120_000,
            scriptQualityDelta: 0,
            hypeDelta: 2,
            audienceDelta: 3,
            distributorRepDelta: 2,
            criticsDelta: -1,
            setFlag: 'wide_release_identity',
            resolveArc: true,
          },
          {
            id: idFactory('opt'),
            label: 'Commit To Prestige Platforming',
            preview: 'Sharper critical posture with a slower commercial ramp.',
            cashDelta: -80_000,
            scriptQualityDelta: 0.1,
            hypeDelta: 1,
            criticsDelta: 3,
            talentRepDelta: 2,
            audienceDelta: 1,
            setFlag: 'prestige_rollout_identity',
            resolveArc: true,
          },
          {
            id: idFactory('opt'),
            label: 'No Clear Identity',
            preview: 'Preserves optionality now, weakens confidence everywhere.',
            cashDelta: 0,
            scriptQualityDelta: 0,
            hypeDelta: -1,
            audienceDelta: -2,
            distributorRepDelta: -2,
            talentRepDelta: -1,
            failArc: true,
          },
        ],
      }),
    },
    {
      id: 'franchise-rights-window',
      category: 'finance',
      scope: 'project',
      targetPhases: ['distribution', 'released'],
      blocksArc: { id: 'franchise-pivot', status: 'resolved' },
      title: 'Franchise Rights Window',
      decisionTitle: 'Franchise Rights Reversion',
      body: 'Underlying rights for follow-up stories can be locked now before outside bidders move.',
      cooldownWeeks: 9,
      baseWeight: 0.85,
      minWeek: 8,
      buildDecision: ({ idFactory, projectId, projectTitle }) => ({
        id: idFactory('decision'),
        projectId,
        category: 'finance',
        arcId: 'franchise-pivot',
        arcStage: 0,
        title: 'Franchise Rights Reversion',
        body: `${projectTitle ?? 'The property'} can become a long-tail asset if you commit early.`,
        weeksUntilExpiry: 1,
        options: [
          {
            id: idFactory('opt'),
            label: 'Secure Sequel Rights',
            preview: 'Upfront spend for future optionality and leverage.',
            cashDelta: -420_000,
            scriptQualityDelta: 0,
            hypeDelta: 2,
            studioHeatDelta: 1,
            setFlag: 'franchise_rights',
            setArcStage: 1,
          },
          {
            id: idFactory('opt'),
            label: 'Pass On Rights',
            preview: 'Stay focused on current slate and preserve capital.',
            cashDelta: 0,
            scriptQualityDelta: 0,
            hypeDelta: 0,
            failArc: true,
          },
        ],
      }),
    },
    {
      id: 'universe-room-pitch',
      category: 'creative',
      scope: 'studio',
      requiresArc: { id: 'franchise-pivot', minStage: 1, status: 'active' },
      title: 'Universe Room Proposal',
      decisionTitle: 'Franchise Room Summit',
      body: 'Development proposes a connected slate room for sequel and spin-off planning.',
      cooldownWeeks: 10,
      baseWeight: 0.9,
      minWeek: 10,
      buildDecision: ({ idFactory }) => ({
        id: idFactory('decision'),
        projectId: null,
        category: 'creative',
        arcId: 'franchise-pivot',
        arcStage: 1,
        title: 'Franchise Room Summit',
        body: 'Commit to a universe strategy now or keep a standalone identity.',
        weeksUntilExpiry: 1,
        options: [
          {
            id: idFactory('opt'),
            label: 'Fund Franchise Room',
            preview: 'Strategic depth and long-tail upside at real annual cost.',
            cashDelta: -360_000,
            scriptQualityDelta: 0,
            hypeDelta: 1,
            studioHeatDelta: 2,
            setArcStage: 2,
            setFlag: 'franchise_room',
          },
          {
            id: idFactory('opt'),
            label: 'Keep Standalone Focus',
            preview: 'Protect flexibility and avoid sequel pressure.',
            cashDelta: 0,
            scriptQualityDelta: 0,
            hypeDelta: 0,
            studioHeatDelta: 1,
            clearFlag: 'franchise_room',
            resolveArc: true,
          },
        ],
      }),
    },
    {
      id: 'flagship-greenlight-crossroads',
      category: 'creative',
      scope: 'studio',
      requiresArc: { id: 'franchise-pivot', minStage: 2, status: 'active' },
      title: 'Flagship Greenlight Crossroads',
      decisionTitle: 'Franchise Flagship Decision',
      body: 'Board asks for final call: flagship sequel slate or return to originals-only mandate.',
      cooldownWeeks: 12,
      baseWeight: 0.8,
      minWeek: 12,
      buildDecision: ({ idFactory }) => ({
        id: idFactory('decision'),
        projectId: null,
        category: 'creative',
        arcId: 'franchise-pivot',
        arcStage: 2,
        title: 'Franchise Flagship Decision',
        body: 'This choice defines studio identity for the next cycle.',
        weeksUntilExpiry: 1,
        options: [
          {
            id: idFactory('opt'),
            label: 'Commit To Flagship Franchise',
            preview: 'Higher commercial ceiling with stronger volatility profile.',
            cashDelta: -520_000,
            scriptQualityDelta: 0,
            hypeDelta: 3,
            studioHeatDelta: 3,
            setFlag: 'franchise_committed',
            resolveArc: true,
          },
          {
            id: idFactory('opt'),
            label: 'Return To Originals',
            preview: 'Lower upside but cleaner creative identity and balance.',
            cashDelta: -120_000,
            scriptQualityDelta: 0,
            hypeDelta: 1,
            studioHeatDelta: 2,
            clearFlag: 'franchise_room',
            resolveArc: true,
          },
          {
            id: idFactory('opt'),
            label: 'Delay Strategic Decision',
            preview: 'Short-term flexibility at long-term credibility cost.',
            cashDelta: 0,
            scriptQualityDelta: 0,
            hypeDelta: -2,
            studioHeatDelta: -2,
            failArc: true,
          },
        ],
      }),
    },

    //  Phase 4: New Arc A  franchise-identity 

    {
      id: 'franchise-creative-audit',
      category: 'creative',
      scope: 'project',
      targetPhases: ['preProduction', 'production'],
      requiresFlag: 'franchise_rights',
      blocksArc: { id: 'franchise-identity', status: 'resolved' },
      title: 'Franchise DNA Review',
      decisionTitle: 'Franchise DNA Review',
      body: 'A creative consultant hired by your distributor argues the sequel has drifted from what made the original connect.',
      cooldownWeeks: 8,
      baseWeight: 0.9,
      minWeek: 8,
      buildDecision: ({ idFactory, projectId, projectTitle }) => ({
        id: idFactory('decision'),
        projectId,
        category: 'creative',
        arcId: 'franchise-identity',
        arcStage: 0,
        title: 'Franchise DNA Review',
        body: `${projectTitle ?? 'The sequel'} is being challenged on franchise identity before cameras finish rolling.`,
        weeksUntilExpiry: 1,
        options: [
          {
            id: idFactory('opt'),
            label: 'Commission A Legacy Audit',
            preview: 'Costs time and money. Clarifies what the franchise actually is.',
            cashDelta: -160_000,
            scriptQualityDelta: 0.2,
            hypeDelta: 0,
            criticsDelta: 2,
            setFlag: 'franchise_legacy_reviewed',
            setArcStage: 1,
          },
          {
            id: idFactory('opt'),
            label: 'Invite The Original Director Back',
            preview: 'Goodwill play. Sets expectations for their involvement.',
            cashDelta: -120_000,
            scriptQualityDelta: 0,
            hypeDelta: 0,
            talentRepDelta: 2,
            criticsDelta: 1,
            setFlag: 'franchise_original_director',
            setArcStage: 1,
          },
          {
            id: idFactory('opt'),
            label: 'Dismiss The Notes',
            preview: 'Saves nothing. The drift will show on screen.',
            cashDelta: 0,
            scriptQualityDelta: 0,
            hypeDelta: 0,
            criticsDelta: -1,
            audienceDelta: 1,
            failArc: true,
          },
        ],
      }),
    },
    {
      id: 'franchise-voice-selection',
      category: 'creative',
      scope: 'project',
      targetPhases: ['preProduction'],
      requiresArc: { id: 'franchise-identity', minStage: 1, status: 'active' },
      title: 'Choosing The Franchise Voice',
      decisionTitle: 'Choosing The Franchise Voice',
      body: 'The audit crystallized a choice: auteur prestige, commercial certainty, or continuity with the current team.',
      cooldownWeeks: 10,
      baseWeight: 0.95,
      minWeek: 10,
      buildDecision: ({ idFactory, projectId, projectTitle }) => ({
        id: idFactory('decision'),
        projectId,
        category: 'creative',
        arcId: 'franchise-identity',
        arcStage: 1,
        title: 'Choosing The Franchise Voice',
        body: `${projectTitle ?? 'This franchise entry'} needs a directional call before final prep.`,
        weeksUntilExpiry: 1,
        options: [
          {
            id: idFactory('opt'),
            label: 'Hire The Auteur',
            preview: 'Prestige ceiling rises. Commercial floor drops.',
            cashDelta: -200_000,
            scriptQualityDelta: 0.5,
            hypeDelta: 0,
            criticsDelta: 4,
            audienceDelta: -2,
            setArcStage: 2,
          },
          {
            id: idFactory('opt'),
            label: 'Hire The Commercial Director',
            preview: 'Safe opening upside. Critics will notice.',
            cashDelta: -180_000,
            scriptQualityDelta: 0,
            hypeDelta: 2,
            criticsDelta: -2,
            audienceDelta: 4,
            setArcStage: 2,
          },
          {
            id: idFactory('opt'),
            label: 'Keep The Current Director',
            preview: 'No disruption. Incremental improvement.',
            cashDelta: 0,
            scriptQualityDelta: 0.1,
            hypeDelta: 0,
            setArcStage: 2,
          },
        ],
      }),
    },
    {
      id: 'franchise-legacy-test',
      category: 'marketing',
      scope: 'project',
      targetPhases: ['distribution'],
      requiresArc: { id: 'franchise-identity', minStage: 2, status: 'active' },
      title: 'The Franchise Accountability Moment',
      decisionTitle: 'The Franchise Accountability Moment',
      body: 'Tracking says audiences want one answer: does this sequel earn its place, or coast on brand familiarity?',
      cooldownWeeks: 12,
      baseWeight: 0.85,
      minWeek: 12,
      buildDecision: ({ idFactory, projectId, projectTitle }) => ({
        id: idFactory('decision'),
        projectId,
        category: 'marketing',
        arcId: 'franchise-identity',
        arcStage: 2,
        title: 'The Franchise Accountability Moment',
        body: `${projectTitle ?? 'The sequel campaign'} must pick a positioning thesis now.`,
        weeksUntilExpiry: 1,
        options: [
          {
            id: idFactory('opt'),
            label: 'Campaign On Legacy And Continuity',
            preview: 'Audience-maximizing framing. Critics read it as defensive.',
            cashDelta: -240_000,
            scriptQualityDelta: 0,
            hypeDelta: 3,
            audienceDelta: 3,
            criticsDelta: -1,
            resolveArc: true,
          },
          {
            id: idFactory('opt'),
            label: "Campaign On What's New",
            preview: 'More expensive. Signals creative evolution.',
            cashDelta: -280_000,
            scriptQualityDelta: 0,
            hypeDelta: 0,
            criticsDelta: 3,
            audienceDelta: 1,
            resolveArc: true,
          },
          {
            id: idFactory('opt'),
            label: 'Minimal Campaign - Let The Film Speak',
            preview: "Both camps notice you didn't commit. Momentum stalls.",
            cashDelta: 0,
            scriptQualityDelta: 0,
            hypeDelta: 0,
            criticsDelta: 1,
            audienceDelta: -1,
            failArc: true,
          },
        ],
      }),
    },
    {
      id: 'fatigue-signal-emerges',
      category: 'marketing',
      scope: 'studio',
      requiresFlag: 'franchise_committed',
      blocksArc: { id: 'franchise-fatigue', status: 'resolved' },
      title: 'Franchise Wear Signal',
      decisionTitle: 'Franchise Wear Signal',
      body: "Social listening shows early 'franchise fatigue' sentiment across your repeat-release audience cohorts.",
      cooldownWeeks: 12,
      baseWeight: 0.85,
      minWeek: 12,
      buildDecision: ({ idFactory }) => ({
        id: idFactory('decision'),
        projectId: null,
        category: 'marketing',
        arcId: 'franchise-fatigue',
        arcStage: 0,
        title: 'Franchise Wear Signal',
        body: "It's not a crisis yet, but the signal is strong enough to force policy choices.",
        weeksUntilExpiry: 1,
        options: [
          {
            id: idFactory('opt'),
            label: 'Commission Audience Research',
            preview: 'Buys informed options. Modest upside.',
            cashDelta: -90_000,
            scriptQualityDelta: 0,
            hypeDelta: 0,
            audienceDelta: 1,
            setFlag: 'franchise_fatigue_warning',
            setArcStage: 1,
          },
          {
            id: idFactory('opt'),
            label: 'Fast-Track A Reinvention Plan',
            preview: 'More expensive but gets ahead of the problem.',
            cashDelta: -200_000,
            scriptQualityDelta: 0,
            hypeDelta: 0,
            criticsDelta: 2,
            setFlag: 'franchise_fatigue_warning',
            setArcStage: 1,
          },
          {
            id: idFactory('opt'),
            label: 'Dismiss As Noise',
            preview: 'Cheaper to ignore. Fatigue compounds.',
            cashDelta: 0,
            scriptQualityDelta: 0,
            hypeDelta: 0,
            audienceDelta: -1,
            failArc: true,
          },
        ],
      }),
    },
    {
      id: 'franchise-reinvention-pitch',
      category: 'creative',
      scope: 'studio',
      requiresArc: { id: 'franchise-fatigue', minStage: 1, status: 'active' },
      title: 'The Reinvention Pitch',
      decisionTitle: 'The Reinvention Pitch',
      body: 'Three visions emerge: legacy continuation, genre pivot, or a planned hiatus to rebuild demand.',
      cooldownWeeks: 10,
      baseWeight: 0.9,
      minWeek: 14,
      buildDecision: ({ idFactory }) => ({
        id: idFactory('decision'),
        projectId: null,
        category: 'creative',
        arcId: 'franchise-fatigue',
        arcStage: 1,
        title: 'The Reinvention Pitch',
        body: 'Leadership must set direction before the next announcement cycle.',
        weeksUntilExpiry: 1,
        options: [
          {
            id: idFactory('opt'),
            label: 'Legacy Continuation',
            preview: 'Safest path. Diminishing returns if fatigue is real.',
            cashDelta: 0,
            scriptQualityDelta: 0,
            hypeDelta: 0,
            audienceDelta: 3,
            criticsDelta: -1,
            setArcStage: 2,
          },
          {
            id: idFactory('opt'),
            label: 'Genre Pivot',
            preview: 'Expensive risk. Earns critical credibility.',
            cashDelta: -300_000,
            scriptQualityDelta: 0,
            hypeDelta: 0,
            criticsDelta: 4,
            audienceDelta: -2,
            setArcStage: 2,
          },
          {
            id: idFactory('opt'),
            label: 'Voluntary Hiatus',
            preview: 'Distributor friction. Audience patience resets.',
            cashDelta: -150_000,
            scriptQualityDelta: 0,
            hypeDelta: 0,
            distributorRepDelta: -2,
            audienceDelta: 2,
            setArcStage: 2,
          },
        ],
      }),
    },
    {
      id: 'franchise-sunset-decision',
      category: 'finance',
      scope: 'studio',
      requiresArc: { id: 'franchise-fatigue', minStage: 2, status: 'active' },
      title: "The Franchise's Future",
      decisionTitle: "The Franchise's Future",
      body: 'The board wants a formal position: continue, reinvent, or close gracefully while goodwill remains.',
      cooldownWeeks: 14,
      baseWeight: 0.8,
      minWeek: 16,
      buildDecision: ({ idFactory }) => ({
        id: idFactory('decision'),
        projectId: null,
        category: 'finance',
        arcId: 'franchise-fatigue',
        arcStage: 2,
        title: "The Franchise's Future",
        body: 'This call locks the next cycle of capital allocation and brand posture.',
        weeksUntilExpiry: 1,
        options: [
          {
            id: idFactory('opt'),
            label: 'Commit To A Final Theatrical Installment',
            preview: 'Costs money. Closes on earned terms.',
            cashDelta: -200_000,
            scriptQualityDelta: 0,
            hypeDelta: 0,
            audienceDelta: 2,
            criticsDelta: 2,
            distributorRepDelta: 2,
            resolveArc: true,
          },
          {
            id: idFactory('opt'),
            label: 'Rebuild Theatrical Positioning',
            preview: 'Costs cash now to reset audience confidence in the next release cycle.',
            cashDelta: -140_000,
            scriptQualityDelta: 0,
            hypeDelta: 0,
            distributorRepDelta: 2,
            audienceDelta: 2,
            resolveArc: true,
          },
          {
            id: idFactory('opt'),
            label: 'Announce The Franchise Is Complete',
            preview: 'No cash. Maximum goodwill exit.',
            cashDelta: 0,
            scriptQualityDelta: 0,
            hypeDelta: 0,
            criticsDelta: 3,
            audienceDelta: 1,
            talentRepDelta: 1,
            resolveArc: true,
          },
          {
            id: idFactory('opt'),
            label: 'Continue Without A Plan',
            preview: 'The industry will make the decision for you.',
            cashDelta: 0,
            scriptQualityDelta: 0,
            hypeDelta: 0,
            audienceDelta: -3,
            criticsDelta: -2,
            failArc: true,
          },
        ],
      }),
    },
    {
      id: 'returning-cast-negotiation',
      category: 'talent',
      scope: 'project',
      targetPhases: ['preProduction', 'production'],
      requiresFlag: 'franchise_rights',
      title: 'Returning Cast Premium',
      decisionTitle: 'Returning Cast Premium',
      body: "A key returning cast member's new reps are demanding a premium package and credit upgrade.",
      cooldownWeeks: 6,
      baseWeight: 1.1,
      minWeek: 6,
      buildDecision: ({ idFactory, projectId, projectTitle }) => ({
        id: idFactory('decision'),
        projectId,
        category: 'talent',
        title: 'Returning Cast Premium',
        body: `${projectTitle ?? 'The sequel'} depends on this role more than your legal leverage suggests.`,
        weeksUntilExpiry: 1,
        options: [
          {
            id: idFactory('opt'),
            label: 'Meet The Ask',
            preview: 'Earns loyalty. Expensive precedent.',
            cashDelta: -280_000,
            scriptQualityDelta: 0,
            hypeDelta: 2,
            talentRepDelta: 2,
            audienceDelta: 1,
          },
          {
            id: idFactory('opt'),
            label: 'Counter At 60% Of The Ask',
            preview: 'Standard negotiation outcome. Actor is mildly unhappy.',
            cashDelta: -160_000,
            scriptQualityDelta: 0,
            hypeDelta: 0,
            talentRepDelta: 1,
            audienceDelta: 1,
          },
          {
            id: idFactory('opt'),
            label: 'Recast The Role',
            preview: 'Curiosity bump. Audience trust takes a real hit.',
            cashDelta: 0,
            scriptQualityDelta: 0,
            hypeDelta: 1,
            criticsDelta: -2,
            audienceDelta: -3,
          },
        ],
      }),
    },
    {
      id: 'sequel-tracking-shock',
      category: 'marketing',
      scope: 'project',
      targetPhases: ['distribution'],
      requiresFlag: 'franchise_rights',
      title: 'Sequel Tracking Underperforms',
      decisionTitle: 'Sequel Tracking Underperforms',
      body: "Opening tracking lands well below the original's pre-release pace and exhibitor confidence softens.",
      cooldownWeeks: 8,
      baseWeight: 0.95,
      minWeek: 8,
      buildDecision: ({ idFactory, projectId, projectTitle }) => ({
        id: idFactory('decision'),
        projectId,
        category: 'marketing',
        title: 'Sequel Tracking Underperforms',
        body: `${projectTitle ?? 'The sequel'} needs a distribution response before bookings lock.`,
        weeksUntilExpiry: 1,
        options: [
          {
            id: idFactory('opt'),
            label: 'Emergency Paid Media Push',
            preview: 'Expensive. Moves the numbers.',
            cashDelta: -340_000,
            scriptQualityDelta: 0,
            hypeDelta: 4,
            audienceDelta: 2,
          },
          {
            id: idFactory('opt'),
            label: 'Lean Into Critical Early Reviews',
            preview: 'Cheaper repositioning. Works if reviews are strong.',
            cashDelta: -120_000,
            scriptQualityDelta: 0,
            hypeDelta: 2,
            criticsDelta: 2,
          },
          {
            id: idFactory('opt'),
            label: 'Hold Spend - Trust The Opening',
            preview: 'Saves money. Accepts the ceiling as-is.',
            cashDelta: 0,
            scriptQualityDelta: 0,
            hypeDelta: 0,
            audienceDelta: -1,
          },
        ],
      }),
    },
    {
      id: 'franchise-spinoff-pitch',
      category: 'creative',
      scope: 'studio',
      requiresFlag: 'franchise_committed',
      title: 'Spinoff Opportunity',
      decisionTitle: 'Spinoff Opportunity',
      body: 'A producer with expanded-universe credentials pitches a standalone spinoff around a supporting character.',
      cooldownWeeks: 14,
      baseWeight: 0.85,
      minWeek: 10,
      buildDecision: ({ idFactory }) => ({
        id: idFactory('decision'),
        projectId: null,
        category: 'creative',
        title: 'Spinoff Opportunity',
        body: 'The proposal is credible but will compete with core-franchise resources.',
        weeksUntilExpiry: 1,
        options: [
          {
            id: idFactory('opt'),
            label: 'Greenlight The Spinoff',
            preview: 'Expanded IP reach. Real overhead commitment.',
            cashDelta: -320_000,
            scriptQualityDelta: 0,
            hypeDelta: 0,
            talentRepDelta: 1,
            audienceDelta: 2,
            setFlag: 'franchise_spinoff_active',
          },
          {
            id: idFactory('opt'),
            label: 'Option The Concept Only',
            preview: 'Cheap hold. Buys time without obligation.',
            cashDelta: -100_000,
            scriptQualityDelta: 0,
            hypeDelta: 0,
            audienceDelta: 1,
          },
          {
            id: idFactory('opt'),
            label: 'Pass - Focus On Core Franchise',
            preview: 'Auteur signal. No distraction.',
            cashDelta: 0,
            scriptQualityDelta: 0,
            hypeDelta: 0,
            criticsDelta: 1,
          },
        ],
      }),
    },
    {
      id: 'legacy-anchor-departure',
      category: 'talent',
      scope: 'project',
      targetPhases: ['preProduction', 'production'],
      requiresFlag: 'franchise_rights',
      title: 'Franchise Anchor Exit',
      decisionTitle: 'Franchise Anchor Exit',
      body: 'The actor most identified with the franchise signals they are ready to exit after this installment.',
      cooldownWeeks: 16,
      baseWeight: 0.8,
      minWeek: 8,
      buildDecision: ({ idFactory, projectId, projectTitle }) => ({
        id: idFactory('decision'),
        projectId,
        category: 'talent',
        title: 'Franchise Anchor Exit',
        body: `${projectTitle ?? 'The current installment'} needs an immediate narrative strategy around cast continuity.`,
        weeksUntilExpiry: 1,
        options: [
          {
            id: idFactory('opt'),
            label: 'Co-Craft A Graceful Exit Narrative',
            preview: 'Industry goodwill. Audience gets closure.',
            cashDelta: -180_000,
            scriptQualityDelta: 0,
            hypeDelta: 0,
            criticsDelta: 2,
            audienceDelta: 1,
            talentRepDelta: 2,
            setFlag: 'legacy_anchor_retired',
          },
          {
            id: idFactory('opt'),
            label: 'Pressure Them To Stay',
            preview: 'Buys one more installment. Costs the relationship.',
            cashDelta: -300_000,
            scriptQualityDelta: 0,
            hypeDelta: 0,
            talentRepDelta: -2,
            audienceDelta: 2,
          },
          {
            id: idFactory('opt'),
            label: 'Say Nothing - Let Events Unfold',
            preview: 'The story will break on its own terms.',
            cashDelta: 0,
            scriptQualityDelta: 0,
            hypeDelta: 0,
            audienceDelta: -2,
            criticsDelta: -1,
          },
        ],
      }),
    },
    {
      id: 'franchise-merch-window',
      category: 'finance',
      scope: 'studio',
      requiresFlag: 'franchise_committed',
      title: 'Merchandise Licensing Deal',
      decisionTitle: 'Merchandise Licensing Deal',
      body: 'A consumer products conglomerate offers a five-year licensing agreement across toys, apparel, and parks.',
      cooldownWeeks: 16,
      baseWeight: 0.9,
      minWeek: 8,
      buildDecision: ({ idFactory }) => ({
        id: idFactory('decision'),
        projectId: null,
        category: 'finance',
        title: 'Merchandise Licensing Deal',
        body: 'The advance is meaningful, but long-tail brand control changes depending on exclusivity.',
        weeksUntilExpiry: 1,
        options: [
          {
            id: idFactory('opt'),
            label: 'Sign Exclusive Deal',
            preview: 'Large upfront. Brand dilution risk is real.',
            cashDelta: 500_000,
            scriptQualityDelta: 0,
            hypeDelta: 0,
            audienceDelta: 2,
            criticsDelta: -1,
            setFlag: 'franchise_merch_deal',
          },
          {
            id: idFactory('opt'),
            label: 'Sign Non-Exclusive Deal',
            preview: 'Smaller advance. Retains flexibility.',
            cashDelta: 200_000,
            scriptQualityDelta: 0,
            hypeDelta: 0,
            audienceDelta: 1,
          },
          {
            id: idFactory('opt'),
            label: 'Pass - Protect Brand Integrity',
            preview: 'No revenue. Clean artistic signal.',
            cashDelta: 0,
            scriptQualityDelta: 0,
            hypeDelta: 0,
            criticsDelta: 1,
          },
        ],
      }),
    },
    {
      id: 'rival-counterprogramming',
      category: 'marketing',
      scope: 'project',
      targetPhases: ['distribution'],
      requiresFlag: 'franchise_rights',
      title: 'Rival Franchise Counterprogramming',
      decisionTitle: 'Rival Franchise Counterprogramming',
      body: 'A competing studio shifted its sequel into your launch corridor and your distributor wants a decision now.',
      cooldownWeeks: 8,
      baseWeight: 1.0,
      minWeek: 8,
      buildDecision: ({ idFactory, projectId, projectTitle }) => ({
        id: idFactory('decision'),
        projectId,
        category: 'marketing',
        title: 'Rival Franchise Counterprogramming',
        body: `${projectTitle ?? 'Your release'} now overlaps with a direct rival franchise opening.`,
        weeksUntilExpiry: 1,
        options: [
          {
            id: idFactory('opt'),
            label: 'Hold Date - Fight For Screens',
            preview: 'Spend to defend. Earns distributor respect.',
            cashDelta: -260_000,
            scriptQualityDelta: 0,
            hypeDelta: 3,
            distributorRepDelta: 2,
          },
          {
            id: idFactory('opt'),
            label: 'Move One Week Earlier',
            preview: 'Modest cost. Gets clear field for a week.',
            cashDelta: -100_000,
            scriptQualityDelta: 0,
            hypeDelta: 1,
            releaseWeekShift: -1,
          },
          {
            id: idFactory('opt'),
            label: 'Move Two Weeks Later',
            preview: 'Cheapest option. Loses momentum.',
            cashDelta: -80_000,
            scriptQualityDelta: 0,
            hypeDelta: -2,
            audienceDelta: -1,
            releaseWeekShift: 2,
          },
        ],
      }),
    },
    {
      id: 'sequel-director-leverage',
      category: 'talent',
      scope: 'project',
      targetPhases: ['preProduction'],
      requiresFlag: 'franchise_rights',
      title: 'Director Franchise Leverage',
      decisionTitle: 'Director Franchise Leverage',
      body: 'Your sequel director wants final cut, non-binding testing notes, and a guaranteed third-act budget floor.',
      cooldownWeeks: 10,
      baseWeight: 0.9,
      minWeek: 6,
      buildDecision: ({ idFactory, projectId, projectTitle }) => ({
        id: idFactory('decision'),
        projectId,
        category: 'talent',
        title: 'Director Franchise Leverage',
        body: `${projectTitle ?? 'The sequel'} can concede terms for creative cohesion or reset leadership.`,
        weeksUntilExpiry: 1,
        options: [
          {
            id: idFactory('opt'),
            label: 'Grant All Three Conditions',
            preview: 'Director commits fully. Commercial ceiling narrows.',
            cashDelta: 0,
            scriptQualityDelta: 0.5,
            hypeDelta: 0,
            talentRepDelta: 3,
            criticsDelta: 3,
            overrunRiskDelta: -0.04,
            audienceDelta: -1,
          },
          {
            id: idFactory('opt'),
            label: 'Grant Creative But Not Budget Floor',
            preview: 'Compromise that leaves both sides mildly unsatisfied.',
            cashDelta: 0,
            scriptQualityDelta: 0.3,
            hypeDelta: 0,
            talentRepDelta: 1,
            criticsDelta: 1,
          },
          {
            id: idFactory('opt'),
            label: 'Deny All - Find A New Director',
            preview: 'New director announcement bump. Relationship cost is real.',
            cashDelta: 0,
            scriptQualityDelta: 0,
            hypeDelta: 1,
            talentRepDelta: -3,
            criticsDelta: -2,
          },
        ],
      }),
    },
    {
      id: 'franchise-universe-pitch',
      category: 'finance',
      scope: 'studio',
      requiresFlag: 'franchise_committed',
      title: 'Global Roadshow Expansion',
      decisionTitle: 'Global Roadshow Expansion',
      body: 'An international distributor proposes a multi-territory roadshow campaign to expand theatrical reach for the franchise.',
      cooldownWeeks: 18,
      baseWeight: 0.75,
      minWeek: 12,
      buildDecision: ({ idFactory }) => ({
        id: idFactory('decision'),
        projectId: null,
        category: 'finance',
        title: 'Global Roadshow Expansion',
        body: 'The deal increases theatrical footprint but locks campaign commitments across multiple regions.',
        weeksUntilExpiry: 1,
        options: [
          {
            id: idFactory('opt'),
            label: 'Fund Full Roadshow',
            preview: 'Highest theatrical reach with real operating overhead.',
            cashDelta: -260_000,
            scriptQualityDelta: 0,
            hypeDelta: 0,
            distributorRepDelta: 3,
            audienceDelta: 3,
            talentRepDelta: 1,
            setFlag: 'franchise_global_campaign',
          },
          {
            id: idFactory('opt'),
            label: 'Pilot Two Markets',
            preview: 'Moderate spend and focused regional upside.',
            cashDelta: -120_000,
            scriptQualityDelta: 0,
            hypeDelta: 0,
            audienceDelta: 1,
            distributorRepDelta: 1,
          },
          {
            id: idFactory('opt'),
            label: 'Decline - Protect Core Markets',
            preview: 'No expansion cost. Retains flexibility for future cycles.',
            cashDelta: 0,
            scriptQualityDelta: 0,
            hypeDelta: 0,
            distributorRepDelta: 1,
            criticsDelta: 1,
          },
        ],
      }),
    },


    //  Phase 4: New Arc B  passion-project 

    {
      id: 'final-cut-rights-demand',
      category: 'creative',
      scope: 'project',
      targetPhases: ['preProduction'],
      blocksArc: { id: 'passion-project', status: 'resolved' },
      title: 'Final Cut Demand',
      decisionTitle: 'Final Cut Demand',
      body: 'Your director wants contractual final cut protection before committing to principal photography. No hedge. No override clause.',
      cooldownWeeks: 6,
      baseWeight: 0.95,
      minWeek: 2,
      buildDecision: ({ idFactory, projectId, projectTitle, currentWeek }) => ({
        id: idFactory('decision'),
        projectId,
        category: 'creative',
        arcId: 'passion-project',
        arcStage: 0,
        title: 'Final Cut Demand',
        body: projectTitle
          ? `The director on ${projectTitle} wants contractual final cut before principal photography begins.`
          : 'Your director wants contractual final cut protection before cameras roll.',
        weeksUntilExpiry: 2,
        options: [
          {
            id: idFactory('opt'),
            label: 'Grant Final Cut',
            preview: 'Full creative latitude. Distributors will ask questions.',
            cashDelta: 0,
            scriptQualityDelta: 0.4,
            hypeDelta: 0,
            talentRepDelta: 2,
            distributorRepDelta: -1,
            setFlag: 'director_final_cut',
            setArcStage: 1,
          },
          {
            id: idFactory('opt'),
            label: 'Offer Consulting Rights Only',
            preview: 'Partial compromise. Director may walk.',
            cashDelta: 0,
            scriptQualityDelta: 0.1,
            hypeDelta: 0,
            talentRepDelta: -1,
            failArc: true,
          },
          {
            id: idFactory('opt'),
            label: 'Hold Studio Override',
            preview: 'Studio wins the argument. May lose the director.',
            cashDelta: 0,
            scriptQualityDelta: -0.2,
            hypeDelta: 0,
            talentRepDelta: -3,
            failArc: true,
          },
        ],
      }),
    },

    {
      id: 'genre-defying-dailies',
      category: 'creative',
      scope: 'project',
      targetPhases: ['production'],
      requiresArc: { id: 'passion-project', minStage: 1, status: 'active' },
      title: "The Dailies Don't Lie",
      decisionTitle: "The Dailies Don't Lie",
      body: "What's on screen is more experimental than the pitch deck suggested. The director is running with it. Audiences may not follow.",
      cooldownWeeks: 8,
      baseWeight: 1.0,
      minWeek: 4,
      buildDecision: ({ idFactory, projectId, projectTitle, currentWeek }) => ({
        id: idFactory('decision'),
        projectId,
        category: 'creative',
        arcId: 'passion-project',
        arcStage: 1,
        title: "The Dailies Don't Lie",
        body: projectTitle
          ? `${projectTitle} is heading somewhere more experimental than the pitch. Back the vision or ask for a safety net?`
          : "The film is heading somewhere more experimental than the pitch. Back the vision or ask for a safety net?",
        weeksUntilExpiry: 2,
        options: [
          {
            id: idFactory('opt'),
            label: 'Back The Vision Fully',
            preview: 'Prestige upside. Commercial risk is real.',
            cashDelta: -180_000,
            scriptQualityDelta: 0.5,
            hypeDelta: 0,
            criticsDelta: 3,
            audienceDelta: -2,
            setArcStage: 2,
          },
          {
            id: idFactory('opt'),
            label: 'Request A Commercial Scene Package',
            preview: 'Costs money to hedge. Gets safer and less distinctive.',
            cashDelta: -200_000,
            scriptQualityDelta: 0.2,
            hypeDelta: 0,
            criticsDelta: -1,
            audienceDelta: 2,
            setArcStage: 2,
          },
          {
            id: idFactory('opt'),
            label: 'Trigger A Review Clause',
            preview: 'Studio overrides a protected director. Reputation damage across the industry.',
            cashDelta: 0,
            scriptQualityDelta: 0,
            hypeDelta: 0,
            talentRepDelta: -3,
            criticsDelta: -2,
            setArcStage: 2,
          },
        ],
      }),
    },

    {
      id: 'critical-split-reception',
      category: 'marketing',
      scope: 'project',
      targetPhases: ['distribution', 'released'],
      requiresArc: { id: 'passion-project', minStage: 2, status: 'active' },
      title: 'The Split',
      decisionTitle: 'The Split',
      body: "Festival darlings are calling it a masterwork. Major press is calling it inaccessible. Your distributor is watching the tracking numbers.",
      cooldownWeeks: 10,
      baseWeight: 0.95,
      minWeek: 8,
      buildDecision: ({ idFactory, projectId, projectTitle, currentWeek }) => ({
        id: idFactory('decision'),
        projectId,
        category: 'marketing',
        arcId: 'passion-project',
        arcStage: 2,
        title: 'The Split',
        body: projectTitle
          ? `${projectTitle} has divided critics. Do you position for prestige or cut toward a mainstream audience?`
          : 'The film has divided critics. Position for prestige or cut toward a mainstream audience?',
        weeksUntilExpiry: 2,
        options: [
          {
            id: idFactory('opt'),
            label: 'Double Down On Prestige Positioning',
            preview: 'Premium awards-circuit positioning. Commercial ceiling is low.',
            cashDelta: -280_000,
            scriptQualityDelta: 0,
            hypeDelta: 0,
            criticsDelta: 5,
            audienceDelta: -2,
            resolveArc: true,
          },
          {
            id: idFactory('opt'),
            label: 'Reposition For Mainstream',
            preview: 'Broader reach. Critics will notice the pivot.',
            cashDelta: -160_000,
            scriptQualityDelta: 0,
            hypeDelta: 0,
            criticsDelta: -2,
            audienceDelta: 4,
            resolveArc: true,
          },
          {
            id: idFactory('opt'),
            label: "Stay Out Of It  Let The Film Speak",
            preview: "Both camps notice you didn't choose. Momentum stalls.",
            cashDelta: 0,
            scriptQualityDelta: 0,
            hypeDelta: 0,
            criticsDelta: 1,
            audienceDelta: 1,
            failArc: true,
          },
        ],
      }),
    },

    //  Phase 4: New Standalone Events 

    {
      id: 'emerging-talent-showcase',
      category: 'talent',
      scope: 'project',
      targetPhases: ['production'],
      title: 'Breakout Performance',
      decisionTitle: 'Breakout Performance',
      body: 'Dailies show a supporting cast member delivering work well above their billing. Agents have already noticed.',
      cooldownWeeks: 5,
      baseWeight: 1.1,
      minWeek: 3,
      buildDecision: ({ idFactory, projectId, projectTitle, currentWeek }) => ({
        id: idFactory('decision'),
        projectId,
        category: 'talent',
        title: 'Breakout Performance',
        body: projectTitle
          ? `A supporting actor on ${projectTitle} is outperforming their role. Agents have already noticed.`
          : 'A supporting actor is outperforming their role. Agents have already noticed.',
        weeksUntilExpiry: 2,
        options: [
          {
            id: idFactory('opt'),
            label: 'Renegotiate Their Deal Now',
            preview: 'Costs now, earns loyalty and press.',
            cashDelta: -150_000,
            scriptQualityDelta: 0,
            hypeDelta: 2,
            talentRepDelta: 2,
          },
          {
            id: idFactory('opt'),
            label: 'Flag For Press Positioning',
            preview: 'Free upside on campaign. No commitment.',
            cashDelta: 0,
            scriptQualityDelta: 0,
            hypeDelta: 3,
            setFlag: 'breakout_talent',
          },
          {
            id: idFactory('opt'),
            label: 'Do Nothing',
            preview: "They'll remember.",
            cashDelta: 0,
            scriptQualityDelta: 0,
            hypeDelta: 0,
            talentRepDelta: -1,
          },
        ],
      }),
    },

    {
      id: 'veteran-mentor-attachment',
      category: 'talent',
      scope: 'project',
      targetPhases: ['development', 'preProduction'],
      title: 'Veteran Mentor Offer',
      decisionTitle: 'Veteran Mentor Offer',
      body: 'A legendary filmmaker, now semi-retired, is available for a consulting credit. The name still carries weight in the room.',
      cooldownWeeks: 8,
      baseWeight: 0.9,
      minWeek: 2,
      buildDecision: ({ idFactory, projectId, projectTitle, currentWeek }) => ({
        id: idFactory('decision'),
        projectId,
        category: 'talent',
        title: 'Veteran Mentor Offer',
        body: projectTitle
          ? `A legendary filmmaker is available to consult on ${projectTitle} for a credit and a fee.`
          : 'A legendary filmmaker is available for a consulting credit  for a fee.',
        weeksUntilExpiry: 2,
        options: [
          {
            id: idFactory('opt'),
            label: 'Bring Them On',
            preview: 'Prestige signal. Costs more than it looks.',
            cashDelta: -180_000,
            scriptQualityDelta: 0.4,
            hypeDelta: 0,
            criticsDelta: 2,
          },
          {
            id: idFactory('opt'),
            label: 'Pass',
            preview: 'No cost, no gain.',
            cashDelta: 0,
            scriptQualityDelta: 0,
            hypeDelta: 0,
          },
        ],
      }),
    },

    {
      id: 'union-action-warning',
      category: 'talent',
      scope: 'project',
      targetPhases: ['production'],
      title: 'Union Warning',
      decisionTitle: 'Union Warning',
      body: 'A guild rep delivers a formal notice about overtime conditions in your production department. Not a threat yet. Noted.',
      cooldownWeeks: 4,
      baseWeight: 1.15,
      minWeek: 3,
      buildDecision: ({ idFactory, projectId, projectTitle, currentWeek }) => ({
        id: idFactory('decision'),
        projectId,
        category: 'talent',
        title: 'Union Warning',
        body: projectTitle
          ? `Guild rep has issued a formal overtime notice on ${projectTitle}. Address it now or absorb the friction.`
          : 'Guild rep has issued a formal overtime notice. Address it now or absorb the friction.',
        weeksUntilExpiry: 2,
        options: [
          {
            id: idFactory('opt'),
            label: 'Schedule A Rest Block',
            preview: 'Delays the shoot. Earns goodwill.',
            cashDelta: -200_000,
            scriptQualityDelta: 0,
            hypeDelta: 0,
            scheduleDelta: 1,
            talentRepDelta: 2,
            overrunRiskDelta: -0.04,
          },
          {
            id: idFactory('opt'),
            label: 'Negotiate A Quiet Settlement',
            preview: 'Faster and cheaper. Partial fix.',
            cashDelta: -120_000,
            scriptQualityDelta: 0,
            hypeDelta: 0,
            talentRepDelta: 1,
          },
          {
            id: idFactory('opt'),
            label: 'Continue Current Schedule',
            preview: 'Makes schedule. Will cost you at the next negotiating table.',
            cashDelta: 0,
            scriptQualityDelta: 0,
            hypeDelta: 1,
            talentRepDelta: -2,
            overrunRiskDelta: 0.06,
          },
        ],
      }),
    },

    {
      id: 'breakout-casting-instinct',
      category: 'talent',
      scope: 'project',
      targetPhases: ['development', 'preProduction'],
      title: 'Unknown Lead Recommendation',
      decisionTitle: 'Unknown Lead Recommendation',
      body: 'Casting is pushing hard for a no-name lead. No agent, no track record. The audition tape is exceptional.',
      cooldownWeeks: 6,
      baseWeight: 0.95,
      minWeek: 2,
      buildDecision: ({ idFactory, projectId, projectTitle, currentWeek }) => ({
        id: idFactory('decision'),
        projectId,
        category: 'talent',
        title: 'Unknown Lead Recommendation',
        body: projectTitle
          ? `Casting wants an unknown lead for ${projectTitle}. Exceptional audition, zero industry profile.`
          : 'Casting wants an unknown lead. Exceptional audition, zero industry profile.',
        weeksUntilExpiry: 2,
        options: [
          {
            id: idFactory('opt'),
            label: 'Greenlight The Casting',
            preview: 'Critical upside. Opens the door for awards narrative.',
            cashDelta: 0,
            scriptQualityDelta: 0.2,
            hypeDelta: 0,
            criticsDelta: 2,
            audienceDelta: -1,
            setFlag: 'underdog_lead',
          },
          {
            id: idFactory('opt'),
            label: 'Go With The Safe Choice',
            preview: 'Audience-safe. Leaves prestige points on the table.',
            cashDelta: 0,
            scriptQualityDelta: -0.1,
            hypeDelta: 0,
            criticsDelta: -1,
            audienceDelta: 1,
          },
        ],
      }),
    },

    {
      id: 'director-vision-clash',
      category: 'creative',
      scope: 'project',
      targetPhases: ['production'],
      title: 'Director-DP Standoff',
      decisionTitle: 'Director-DP Standoff',
      body: 'Your director and cinematographer are deadlocked over visual approach three weeks into principal photography.',
      cooldownWeeks: 5,
      baseWeight: 1.1,
      minWeek: 3,
      buildDecision: ({ idFactory, projectId, projectTitle, currentWeek }) => ({
        id: idFactory('decision'),
        projectId,
        category: 'creative',
        title: 'Director-DP Standoff',
        body: projectTitle
          ? `Director and DP on ${projectTitle} are at an impasse over visual language. Both have valid arguments.`
          : 'Director and DP are at an impasse over visual language. Both have valid arguments.',
        weeksUntilExpiry: 2,
        options: [
          {
            id: idFactory('opt'),
            label: 'Back The Director',
            preview: 'Preserves creative coherence. Costs you a DP relationship.',
            cashDelta: 0,
            scriptQualityDelta: 0.2,
            hypeDelta: -1,
            talentRepDelta: 1,
          },
          {
            id: idFactory('opt'),
            label: 'Back The DP',
            preview: 'More commercial result. Director friction.',
            cashDelta: 0,
            scriptQualityDelta: -0.1,
            hypeDelta: 2,
            talentRepDelta: -1,
          },
          {
            id: idFactory('opt'),
            label: 'Bring In A Mediator',
            preview: 'Costs cash. Resolves cleanly.',
            cashDelta: -120_000,
            scriptQualityDelta: 0.1,
            hypeDelta: 1,
          },
        ],
      }),
    },

    {
      id: 'cold-audience-test',
      category: 'creative',
      scope: 'project',
      targetPhases: ['postProduction'],
      title: 'Cold Read Returns',
      decisionTitle: 'Cold Read Returns',
      body: 'An unannounced civilian test screening returns scores that contradict your internal tracking.',
      cooldownWeeks: 5,
      baseWeight: 1.05,
      minWeek: 5,
      buildDecision: ({ idFactory, projectId, projectTitle, currentWeek }) => ({
        id: idFactory('decision'),
        projectId,
        category: 'creative',
        title: 'Cold Read Returns',
        body: projectTitle
          ? `An unannounced civilian screening of ${projectTitle} returned unexpected scores. Internal tracking had it wrong.`
          : 'An unannounced civilian screening returned unexpected scores. Internal tracking had it wrong.',
        weeksUntilExpiry: 2,
        options: [
          {
            id: idFactory('opt'),
            label: 'Order A Targeted Recut',
            preview: 'Costs money and time. Fixes the problem.',
            cashDelta: -230_000,
            scriptQualityDelta: 0.3,
            hypeDelta: 0,
          },
          {
            id: idFactory('opt'),
            label: 'Dismiss The Data',
            preview: 'Bold stance. May be right.',
            cashDelta: 0,
            scriptQualityDelta: -0.1,
            hypeDelta: 1,
          },
          {
            id: idFactory('opt'),
            label: 'Commission A Second Screening',
            preview: 'More data, more delay.',
            cashDelta: -90_000,
            scriptQualityDelta: 0,
            hypeDelta: -1,
          },
        ],
      }),
    },

    {
      id: 'viral-set-moment',
      category: 'marketing',
      scope: 'project',
      targetPhases: ['production', 'postProduction'],
      title: 'Viral Set Leak',
      decisionTitle: 'Viral Set Leak',
      body: "An unplanned on-set moment was captured on a crew member's phone. It's spreading. You didn't plan this.",
      cooldownWeeks: 6,
      baseWeight: 1.0,
      minWeek: 3,
      buildDecision: ({ idFactory, projectId, projectTitle, currentWeek }) => ({
        id: idFactory('decision'),
        projectId,
        category: 'marketing',
        title: 'Viral Set Leak',
        body: projectTitle
          ? `An unplanned moment from ${projectTitle}'s set is spreading online. Your marketing team is watching the numbers climb.`
          : "An unplanned on-set moment is spreading online. Your marketing team is watching the numbers climb.",
        weeksUntilExpiry: 1,
        options: [
          {
            id: idFactory('opt'),
            label: 'Own It  Release Official Version',
            preview: 'Maximum audience reach. Critics notice the engineered enthusiasm.',
            cashDelta: 0,
            scriptQualityDelta: 0,
            hypeDelta: 5,
            criticsDelta: -1,
            audienceDelta: 2,
          },
          {
            id: idFactory('opt'),
            label: 'Issue Takedown',
            preview: 'Controlled brand. Costs goodwill.',
            cashDelta: -80_000,
            scriptQualityDelta: 0,
            hypeDelta: -2,
            criticsDelta: 1,
          },
          {
            id: idFactory('opt'),
            label: 'Stay Quiet',
            preview: 'Organic spread. Limited upside.',
            cashDelta: 0,
            scriptQualityDelta: 0,
            hypeDelta: 1,
          },
        ],
      }),
    },

    {
      id: 'critic-embargo-request',
      category: 'marketing',
      scope: 'project',
      targetPhases: ['distribution'],
      title: 'Critics Guild Embargo Lift',
      decisionTitle: 'Critics Guild Embargo Lift',
      body: 'A respected critics bloc is requesting an early embargo lift to align with their awards calendar. Your current cut would have to hold up.',
      cooldownWeeks: 5,
      baseWeight: 0.95,
      minWeek: 6,
      buildDecision: ({ idFactory, projectId, projectTitle, currentWeek }) => ({
        id: idFactory('decision'),
        projectId,
        category: 'marketing',
        title: 'Critics Guild Embargo Lift',
        body: projectTitle
          ? `A critics bloc wants an early embargo lift on ${projectTitle} to align with their awards cycle.`
          : 'A critics bloc wants an early embargo lift to align with their awards cycle.',
        weeksUntilExpiry: 1,
        options: [
          {
            id: idFactory('opt'),
            label: 'Lift For Qualifying Outlets',
            preview: "High reward if the film holds. High exposure if it doesn't.",
            cashDelta: 0,
            scriptQualityDelta: 0,
            hypeDelta: 2,
            criticsDelta: 2,
          },
          {
            id: idFactory('opt'),
            label: 'Maintain Full Embargo',
            preview: "Standard call. Minor critics friction.",
            cashDelta: 0,
            scriptQualityDelta: 0,
            hypeDelta: 0,
            criticsDelta: -1,
          },
          {
            id: idFactory('opt'),
            label: 'Advance Access To Select Critics',
            preview: 'Careful version. Costs a little, risks a little less.',
            cashDelta: -60_000,
            scriptQualityDelta: 0,
            hypeDelta: 1,
            criticsDelta: 1,
          },
        ],
      }),
    },

    {
      id: 'campaign-repositioning',
      category: 'marketing',
      scope: 'project',
      targetPhases: ['distribution'],
      title: 'Campaign Reposition Window',
      decisionTitle: 'Campaign Reposition Window',
      body: "Test audience data shows the campaign is emphasizing the wrong elements. A pivot is still possible before wide release.",
      cooldownWeeks: 6,
      baseWeight: 1.0,
      minWeek: 6,
      buildDecision: ({ idFactory, projectId, projectTitle, currentWeek }) => ({
        id: idFactory('decision'),
        projectId,
        category: 'marketing',
        title: 'Campaign Reposition Window',
        body: projectTitle
          ? `Campaign data for ${projectTitle} is pointing the wrong direction. There's still time to pivot before wide release.`
          : "Campaign data is pointing the wrong direction. There's still time to pivot before wide release.",
        weeksUntilExpiry: 2,
        options: [
          {
            id: idFactory('opt'),
            label: 'Rebuild Around Emotional Hook',
            preview: 'Expensive. Broadens the tent.',
            cashDelta: -280_000,
            scriptQualityDelta: 0,
            hypeDelta: 4,
            audienceDelta: 2,
          },
          {
            id: idFactory('opt'),
            label: 'Lean Into Genre Signifiers',
            preview: 'Cheaper repositioning. Trades prestige for attendance.',
            cashDelta: -140_000,
            scriptQualityDelta: 0,
            hypeDelta: 2,
            criticsDelta: -1,
            audienceDelta: 3,
          },
          {
            id: idFactory('opt'),
            label: 'Hold Current Campaign',
            preview: 'Saves money. Accepts current ceiling.',
            cashDelta: 0,
            scriptQualityDelta: 0,
            hypeDelta: 0,
          },
        ],
      }),
    },

    {
      id: 'first-look-term-sheet',
      category: 'talent',
      scope: 'studio',
      title: 'First-Look Term Sheet',
      decisionTitle: 'First-Look Term Sheet',
      body: 'A major agency is offering an exclusive first-look deal on new material  upfront cost, ongoing script access.',
      cooldownWeeks: 12,
      baseWeight: 0.85,
      minWeek: 5,
      buildDecision: ({ idFactory, currentWeek }) => ({
        id: idFactory('decision'),
        projectId: null,
        category: 'talent',
        title: 'First-Look Term Sheet',
        body: 'A major agency is offering exclusive first-look rights on new writer and director packages. Upfront cost, long-term pipeline access.',
        weeksUntilExpiry: 2,
        options: [
          {
            id: idFactory('opt'),
            label: 'Sign The Deal',
            preview: 'Better talent pipeline access. Costs independence.',
            cashDelta: -340_000,
            scriptQualityDelta: 0,
            hypeDelta: 1,
            talentRepDelta: 2,
            setFlag: 'first_look_active',
          },
          {
            id: idFactory('opt'),
            label: 'Pass  Stay Open Market',
            preview: 'No upfront. Slight signal of self-reliance.',
            cashDelta: 0,
            scriptQualityDelta: 0,
            hypeDelta: 0,
            talentRepDelta: -1,
            distributorRepDelta: 1,
          },
        ],
      }),
    },

    {
      id: 'year-end-snub',
      category: 'marketing',
      scope: 'studio',
      title: 'Year-End Recognition Snub',
      decisionTitle: 'Year-End Recognition Snub',
      body: "A significant industry list omits your studio entirely. The gap between your output and the industry's perception of you is showing.",
      cooldownWeeks: 18,
      baseWeight: 0.8,
      minWeek: 8,
      buildDecision: ({ idFactory, currentWeek }) => ({
        id: idFactory('decision'),
        projectId: null,
        category: 'marketing',
        title: 'Year-End Recognition Snub',
        body: "A major year-end industry list passed your studio over. The gap between your work and your reputation is public now.",
        weeksUntilExpiry: 2,
        options: [
          {
            id: idFactory('opt'),
            label: 'Commission A Trade Campaign',
            preview: 'Costs money. Makes the case.',
            cashDelta: -200_000,
            scriptQualityDelta: 0,
            hypeDelta: 0,
            criticsDelta: 2,
            audienceDelta: 1,
          },
          {
            id: idFactory('opt'),
            label: 'Let The Work Speak',
            preview: 'No spend. Slightly better than nothing.',
            cashDelta: 0,
            scriptQualityDelta: 0,
            hypeDelta: 0,
            criticsDelta: 1,
          },
        ],
      }),
    },

    {
      id: 'acquisition-rumor',
      category: 'finance',
      scope: 'studio',
      blocksFlag: 'independence_declared',
      title: 'Acquisition Rumor',
      decisionTitle: 'Acquisition Rumor',
      body: 'Trade press is running a story that a major studio is interested in acquiring your catalog and key talent relationships.',
      cooldownWeeks: 15,
      baseWeight: 0.9,
      minWeek: 10,
      buildDecision: ({ idFactory, currentWeek }) => ({
        id: idFactory('decision'),
        projectId: null,
        category: 'finance',
        title: 'Acquisition Rumor',
        body: "Trade press is running acquisition speculation. Your team is asking questions. How you respond sets the tone.",
        weeksUntilExpiry: 2,
        options: [
          {
            id: idFactory('opt'),
            label: 'Issue A Strong Denial',
            preview: 'Reassures your people. Closes the story.',
            cashDelta: 0,
            scriptQualityDelta: 0,
            hypeDelta: 0,
            talentRepDelta: 1,
            distributorRepDelta: 1,
            setFlag: 'independence_declared',
          },
          {
            id: idFactory('opt'),
            label: 'Stay Quiet',
            preview: 'Attention without commitment. Staff reads into it.',
            cashDelta: 0,
            scriptQualityDelta: 0,
            hypeDelta: 1,
            talentRepDelta: -1,
          },
          {
            id: idFactory('opt'),
            label: 'Engage Exploratory Talks',
            preview: 'Pure profile play. Real internal cost.',
            cashDelta: 0,
            scriptQualityDelta: 0,
            hypeDelta: 0,
            talentRepDelta: -2,
            audienceDelta: 2,
          },
        ],
      }),
    },

    {
      id: 'co-production-offer',
      category: 'finance',
      scope: 'project',
      targetPhases: ['development', 'preProduction'],
      title: 'Co-Production Offer',
      decisionTitle: 'Co-Production Offer',
      body: 'An international studio proposes co-production terms  shared cost, shared credit, and a required international location pivot.',
      cooldownWeeks: 7,
      baseWeight: 1.0,
      minWeek: 3,
      buildDecision: ({ idFactory, projectId, projectTitle, currentWeek }) => ({
        id: idFactory('decision'),
        projectId,
        category: 'finance',
        title: 'Co-Production Offer',
        body: projectTitle
          ? `An international studio wants to co-produce ${projectTitle}. Shared cost, shared credit, mandatory location pivot.`
          : 'An international studio wants to co-produce. Shared cost, shared credit, mandatory location pivot.',
        weeksUntilExpiry: 2,
        options: [
          {
            id: idFactory('opt'),
            label: 'Accept Co-Production Terms',
            preview: 'Risk-sharing at the cost of creative control and timeline.',
            cashDelta: 380_000,
            scriptQualityDelta: -0.2,
            hypeDelta: -1,
            scheduleDelta: 1,
            distributorRepDelta: 1,
          },
          {
            id: idFactory('opt'),
            label: 'Counter With Equity-Only Terms',
            preview: 'Smaller cash. Keeps creative authority.',
            cashDelta: 180_000,
            scriptQualityDelta: 0,
            hypeDelta: 0,
            distributorRepDelta: 1,
          },
          {
            id: idFactory('opt'),
            label: 'Decline',
            preview: 'Clean. No cash.',
            cashDelta: 0,
            scriptQualityDelta: 0,
            hypeDelta: 0,
          },
        ],
      }),
    },

    {
      id: 'completion-bond-audit',
      category: 'finance',
      scope: 'project',
      targetPhases: ['production', 'postProduction'],
      title: 'Completion Bond Audit',
      decisionTitle: 'Completion Bond Audit',
      body: 'Bond underwriters request a compliance review before they keep covering late-stage risk.',
      cooldownWeeks: 8,
      baseWeight: 0.92,
      minWeek: 8,
      buildDecision: ({ idFactory, projectId, projectTitle }) => ({
        id: idFactory('decision'),
        projectId,
        category: 'finance',
        title: 'Completion Bond Audit',
        body: projectTitle
          ? `Underwriters want a fast audit pass on ${projectTitle} before they confirm full completion coverage.`
          : 'Underwriters want a fast audit pass before they confirm full completion coverage.',
        weeksUntilExpiry: 1,
        options: [
          {
            id: idFactory('opt'),
            label: 'Open Full Books',
            preview: 'Most expensive. Buys strongest confidence.',
            cashDelta: -120_000,
            scriptQualityDelta: 0,
            hypeDelta: 0,
            criticsDelta: 1,
            distributorRepDelta: 2,
          },
          {
            id: idFactory('opt'),
            label: 'Negotiate Limited Access',
            preview: 'Middle path with minor process drag.',
            cashDelta: -60_000,
            scriptQualityDelta: 0,
            hypeDelta: 0,
            distributorRepDelta: 1,
            scheduleDelta: 1,
          },
          {
            id: idFactory('opt'),
            label: 'Refuse The Audit',
            preview: 'No cost now. Relationship damage later.',
            cashDelta: 0,
            scriptQualityDelta: 0,
            hypeDelta: 1,
            distributorRepDelta: -2,
            audienceDelta: -1,
          },
        ],
      }),
    },

    {
      id: 'crew-retention-bonus',
      category: 'operations',
      scope: 'project',
      targetPhases: ['preProduction', 'production'],
      title: 'Crew Retention Bonus Pool',
      decisionTitle: 'Crew Retention Bonus Pool',
      body: 'Department heads warn that fatigue is rising and senior crew could walk before lock.',
      cooldownWeeks: 7,
      baseWeight: 1.0,
      minWeek: 7,
      buildDecision: ({ idFactory, projectId, projectTitle }) => ({
        id: idFactory('decision'),
        projectId,
        category: 'operations',
        title: 'Crew Retention Bonus Pool',
        body: projectTitle
          ? `${projectTitle} is at risk of losing key crew unless retention terms improve this week.`
          : 'Key crew may leave unless retention terms improve this week.',
        weeksUntilExpiry: 1,
        options: [
          {
            id: idFactory('opt'),
            label: 'Fund Full Bonus Pool',
            preview: 'Stabilizes set morale and keeps pace.',
            cashDelta: -220_000,
            scriptQualityDelta: 0,
            hypeDelta: 2,
            talentRepDelta: 2,
            audienceDelta: 1,
            scheduleDelta: -1,
          },
          {
            id: idFactory('opt'),
            label: 'Cover Key Departments Only',
            preview: 'Cheaper partial solution.',
            cashDelta: -110_000,
            scriptQualityDelta: 0,
            hypeDelta: 1,
            talentRepDelta: 1,
          },
          {
            id: idFactory('opt'),
            label: 'Hold Current Terms',
            preview: 'No cash outlay. Turnover risk rises.',
            cashDelta: 0,
            scriptQualityDelta: 0,
            hypeDelta: -1,
            talentRepDelta: -2,
            scheduleDelta: 1,
          },
        ],
      }),
    },

    {
      id: 'third-act-clarity-pass',
      category: 'creative',
      scope: 'project',
      targetPhases: ['postProduction'],
      title: 'Third Act Clarity Pass',
      decisionTitle: 'Third Act Clarity Pass',
      body: 'Late cuts reveal confusion in the final act. There is still time for a targeted fix.',
      cooldownWeeks: 9,
      baseWeight: 0.9,
      minWeek: 8,
      buildDecision: ({ idFactory, projectId, projectTitle }) => ({
        id: idFactory('decision'),
        projectId,
        category: 'creative',
        title: 'Third Act Clarity Pass',
        body: projectTitle
          ? `${projectTitle} can run a late clarity pass to tighten the ending before final lock.`
          : 'You can run a late clarity pass to tighten the ending before final lock.',
        weeksUntilExpiry: 1,
        options: [
          {
            id: idFactory('opt'),
            label: 'Run Pickup And Rewrite Pass',
            preview: 'High-cost repair with strongest upside.',
            cashDelta: -260_000,
            scriptQualityDelta: 0.3,
            hypeDelta: 0,
            criticsDelta: 2,
            scheduleDelta: 1,
          },
          {
            id: idFactory('opt'),
            label: 'ADR And Edit Tightening',
            preview: 'Moderate improvement for lower spend.',
            cashDelta: -90_000,
            scriptQualityDelta: 0.1,
            hypeDelta: 0,
            criticsDelta: 1,
          },
          {
            id: idFactory('opt'),
            label: 'Ship Current Cut',
            preview: 'Protect schedule and cash.',
            cashDelta: 0,
            scriptQualityDelta: 0,
            hypeDelta: 0,
            audienceDelta: -1,
          },
        ],
      }),
    },

    {
      id: 'industry-analyst-day',
      category: 'marketing',
      scope: 'studio',
      title: 'Industry Analyst Day',
      decisionTitle: 'Industry Analyst Day',
      body: 'Trade analysts ask for direct studio briefings on your slate quality and long-term strategy.',
      cooldownWeeks: 16,
      baseWeight: 0.82,
      minWeek: 12,
      buildDecision: ({ idFactory }) => ({
        id: idFactory('decision'),
        projectId: null,
        category: 'marketing',
        title: 'Industry Analyst Day',
        body: 'How you present the slate this quarter will shape distributor confidence for upcoming negotiations.',
        weeksUntilExpiry: 2,
        options: [
          {
            id: idFactory('opt'),
            label: 'Host Full Showcase',
            preview: 'Costs cash. Builds broad confidence.',
            cashDelta: -190_000,
            scriptQualityDelta: 0,
            hypeDelta: 1,
            distributorRepDelta: 2,
            audienceDelta: 1,
          },
          {
            id: idFactory('opt'),
            label: 'Run Private Briefings',
            preview: 'Cheaper and focused.',
            cashDelta: -70_000,
            scriptQualityDelta: 0,
            hypeDelta: 0,
            distributorRepDelta: 1,
          },
          {
            id: idFactory('opt'),
            label: 'Skip This Cycle',
            preview: 'No spend. Leaves narrative to others.',
            cashDelta: 0,
            scriptQualityDelta: 0,
            hypeDelta: 0,
            criticsDelta: -1,
            distributorRepDelta: -1,
          },
        ],
      }),
    },

    {
      id: 'guild-training-initiative',
      category: 'operations',
      scope: 'studio',
      title: 'Guild Training Initiative',
      decisionTitle: 'Guild Training Initiative',
      body: 'Guild reps invite the studio to co-fund a new below-the-line training pipeline.',
      cooldownWeeks: 20,
      baseWeight: 0.78,
      minWeek: 14,
      buildDecision: ({ idFactory }) => ({
        id: idFactory('decision'),
        projectId: null,
        category: 'operations',
        title: 'Guild Training Initiative',
        body: 'It is not mandatory, but the industry will remember who helped staff the next generation.',
        weeksUntilExpiry: 2,
        options: [
          {
            id: idFactory('opt'),
            label: 'Sponsor At Lead Tier',
            preview: 'Strong long-term goodwill play.',
            cashDelta: -240_000,
            scriptQualityDelta: 0,
            hypeDelta: 0,
            criticsDelta: 1,
            talentRepDelta: 3,
          },
          {
            id: idFactory('opt'),
            label: 'Join As Co-Funder',
            preview: 'Balanced contribution.',
            cashDelta: -120_000,
            scriptQualityDelta: 0,
            hypeDelta: 0,
            talentRepDelta: 1,
            distributorRepDelta: 1,
          },
          {
            id: idFactory('opt'),
            label: 'Decline Participation',
            preview: 'Save cash now. Creates labor friction.',
            cashDelta: 0,
            scriptQualityDelta: 0,
            hypeDelta: -1,
            talentRepDelta: -2,
            audienceDelta: -1,
          },
        ],
      }),
    },

    {
      id: 'release-calendar-jam',
      category: 'marketing',
      scope: 'project',
      targetPhases: ['distribution'],
      title: 'Release Calendar Jam',
      decisionTitle: 'Release Calendar Jam',
      body: 'Two similar titles moved into your corridor and exhibitors are signaling tighter screen access.',
      cooldownWeeks: 9,
      baseWeight: 1.02,
      minWeek: 11,
      buildDecision: ({ idFactory, projectId, projectTitle }) => ({
        id: idFactory('decision'),
        projectId,
        category: 'marketing',
        title: 'Release Calendar Jam',
        body: projectTitle
          ? `${projectTitle} now shares a crowded window and your booking leverage is being tested.`
          : 'Your release now shares a crowded window and booking leverage is being tested.',
        weeksUntilExpiry: 1,
        options: [
          {
            id: idFactory('opt'),
            label: 'Buy Premium Screens',
            preview: 'Expensive defense, keeps pressure on rivals.',
            cashDelta: -300_000,
            scriptQualityDelta: 0,
            hypeDelta: 3,
            distributorRepDelta: 2,
          },
          {
            id: idFactory('opt'),
            label: 'Shift One Week',
            preview: 'Moderate cost, cleaner lane.',
            cashDelta: -90_000,
            scriptQualityDelta: 0,
            hypeDelta: -1,
            audienceDelta: 1,
            releaseWeekShift: 1,
          },
          {
            id: idFactory('opt'),
            label: 'Hold Current Plan',
            preview: 'No spend, weaker leverage.',
            cashDelta: 0,
            scriptQualityDelta: 0,
            hypeDelta: -2,
            distributorRepDelta: -1,
          },
        ],
      }),
    },

    {
      id: 'library-restoration-package',
      category: 'finance',
      scope: 'studio',
      title: 'Library Restoration Package',
      decisionTitle: 'Library Restoration Package',
      body: 'A restoration vendor offers a discounted package to remaster catalog titles and relaunch them in premium formats.',
      cooldownWeeks: 24,
      baseWeight: 0.72,
      minWeek: 18,
      buildDecision: ({ idFactory }) => ({
        id: idFactory('decision'),
        projectId: null,
        category: 'finance',
        title: 'Library Restoration Package',
        body: 'Catalog strategy will not move this quarter cash flow, but it can change how the studio is valued long-term.',
        weeksUntilExpiry: 2,
        options: [
          {
            id: idFactory('opt'),
            label: 'Restore Full Catalog Set',
            preview: 'Largest cost, strongest legacy signal.',
            cashDelta: -260_000,
            scriptQualityDelta: 0,
            hypeDelta: 1,
            criticsDelta: 2,
            audienceDelta: 2,
          },
          {
            id: idFactory('opt'),
            label: 'Restore Select Titles',
            preview: 'Moderate spend, moderate upside.',
            cashDelta: -120_000,
            scriptQualityDelta: 0,
            hypeDelta: 1,
            criticsDelta: 1,
            audienceDelta: 1,
          },
          {
            id: idFactory('opt'),
            label: 'Pass This Cycle',
            preview: 'No cost now.',
            cashDelta: 0,
            scriptQualityDelta: 0,
            hypeDelta: 0,
            criticsDelta: -1,
          },
        ],
      }),
    },

    {
      id: 'festival-jury-lobby-window',
      category: 'marketing',
      scope: 'project',
      targetPhases: ['postProduction', 'distribution'],
      title: 'Festival Jury Lobby Window',
      decisionTitle: 'Festival Jury Lobby Window',
      body: 'Publicists present a narrow outreach window to shape early festival juror sentiment.',
      cooldownWeeks: 10,
      baseWeight: 0.88,
      minWeek: 9,
      buildDecision: ({ idFactory, projectId, projectTitle }) => ({
        id: idFactory('decision'),
        projectId,
        category: 'marketing',
        title: 'Festival Jury Lobby Window',
        body: projectTitle
          ? `Publicists believe ${projectTitle} can gain festival leverage with immediate targeted outreach.`
          : 'Publicists believe this title can gain festival leverage with immediate targeted outreach.',
        weeksUntilExpiry: 1,
        options: [
          {
            id: idFactory('opt'),
            label: 'Run Full Outreach Push',
            preview: 'Highest influence, highest spend.',
            cashDelta: -150_000,
            scriptQualityDelta: 0,
            hypeDelta: 1,
            criticsDelta: 2,
            distributorRepDelta: 1,
          },
          {
            id: idFactory('opt'),
            label: 'Keep It Low-Key',
            preview: 'Lower spend, controlled upside.',
            cashDelta: -60_000,
            scriptQualityDelta: 0,
            hypeDelta: 0,
            criticsDelta: 1,
          },
          {
            id: idFactory('opt'),
            label: 'Avoid Lobbying',
            preview: 'No spend, no narrative control.',
            cashDelta: 0,
            scriptQualityDelta: 0,
            hypeDelta: 0,
            criticsDelta: -1,
            talentRepDelta: 1,
          },
        ],
      }),
    },
  ];
}


